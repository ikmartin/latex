\input{../preamble.tex}

% lecture commands
\newcounter{lecture-counter}
\newcommand{\lecture}[2]
{
	\newpage
	\addtocounter{lecture-counter}{1}
    \tchap{Lecture \arabic{lecture-counter}}
	\vspace{-1.5em}
    \begin{center}
	    \small \emph{Recorded: #1 \hspace{1.5em} Notes: #2}
    \end{center}
}

% start document
\begin{document}
\pagestyle{empty}
	\LARGE
\begin{center}
	Lecture Notes from Differential Geometry (Michaelmas 2021) \\
	\Large
	Isaac Martin \\
    Last compiled \today
\end{center}
\normalsize
\vspace{-2mm}
\hru
\tableofcontents

\lecture{2021-10-07}{2022-03-01}
Main Books:
\begin{itemize}
	\item Nicolaescu: \emph{Lectures on the Geometry of Manifolds}
	\item Lee: Introduction to smooth manifolds
\end{itemize}
\noindent For principal bundles:
\begin{itemize}
	\item Sontz: \emph{Principal Bundles, The Classical Case}
	\item Sontz: \emph{Principal Bundles, The Quantum Case}
\end{itemize}
\noindent For physicists:
\begin{itemize}
	\item Nakahara: \emph{Geometry, Topology, and Physics.}
\end{itemize}

There will be times in the course where we refer to these books (almost exclusively Lee and Nicolaescu) for proofs which we take as black boxes -- analysis-flavored things with which we do not wish to get sidetracked. These are not things that differential geometers don't typically think about. These proofs are non-examinable.

\bigskip

\setcounter{section}{-1}
\section{What is differential geometry?}
Differential geometry is the study of smooth manifolds: spaces that locally look like $\bR^n$ in a smooth way.

\noindent There are two primary ways to think about manifolds.
\begin{itemize}
	\item \textbf{Embedded Manifolds} (Extrinsic Geometry): These are embedded manifolds viewed as subspaces in $\bR^n$ for some sufficiently large $n$. e.g. spheres, tori, genus 2 spaces are smooth subsets of $\bR^3$. Could also take $\{x^2 = y^2 + 1\} \subset \bR^2$, which is a hyperbola. There is some subtlety about which equations we can take; for instance, $x^2 = y^2$ is \emph{not} smooth. Could also take $\SO(n) \subseteq \bR^{n^2}$, this is the set of $n \times n$ matrices so that $A^TA = 1$ and $\det(A) = 1$.

	\item \textbf{Abstract Manifolds} (Intrinsic Geometry): Reasonable topological spaces such that about each point $p$ there are local coordinates such that coordinate transformations are smooth (i.e. $C^\infty$).
\end{itemize}
One might worry that the embedding chosen in the first of the above cases affects the structure of the space. Working in the latter framework avoids this issue, since we don't care about the ambient space. Luckily, thanks to results such as the Whitney embedding theorem, we know that these two definitions are equivalent. We can always embed an abstract manifold in some high dimensional Euclidean space and can write down an embedded manifold as a smooth manifold.

\bigskip

\subsection{Important Constructions}
Once you have a manifold, there are some basic constructions you care about.

The \textbf{tangent space} at a point of a manifold is some linear approximation of the manifold at a point. It is clear how to define this for an embedded manifold -- we can write down explicit equations describing a hypersurface tangent to the manifold at a point -- but is less clear in the abstract case.

\textbf{Smooth maps} between manifolds and their derivatives are another object one might care about. The derivative of a smooth map ought to be some linear approximation of the map, and will therefore involve the tangent space.

\textbf{Vector fields} on the surface of a manifold objects which assign a vector to each point of a manifold. Closely related to this is the concept of a \textbf{flow}, which captures the idea of moving through the vector field in some way.

\textbf{Submanifolds} ought to make sense in some way. Embedded manifolds are submanifolds of $\bR^n$, for instance.

We can even give our manifolds more structure, for instance, we can think of a group structure that is compatible with the smooth structure of the manifold. These are called \textbf{Lie groups}. There are surprising things that come out of doing things like this, for example, the tangent space at the identity of a Lie group becomes a \textbf{Lie algebra}. There is then a map from a Lie algebra to its associated Lie group called the exponential map:
\begin{equation}
	\exp: \frakg \to \frakG.
\end{equation}
For $\GL_n(\bR)$, the tangent space at the identity is $\Mat_{n\times n}(\bR)$. It's Lie algebra structure is given by the commutator $[A,B] = AB - BA$, and the exponential map is
\begin{align*}
	A \mapsto I + A + \frac{A^2}{2!} + ...
\end{align*}

\bigskip

Some questions are more subtle, however. One such question is this: "How does one differentiate a vector field?" One might go away and invent the rest of this course solely by trying to answer this question. For a vector field on $\bR^n$, this is easy. What about a vector field on an embedded manifold $M \subseteq \bR^3$? 

One problem you immediately run into is that there is no way to differentiate in directions out of the surface, it's simply not defined. Even if we restrict to differentiating in directions pointing along the surface, the answer might yield a vector pointing out of the surface, so this is still a problem. For simple example of this, see minute 27:05 in the recording.

The obvious fix might be that you take the derivative of a vector field and then orthogonally project back onto the manifold, but then the choice of embedding matters quite a lot. To summarize,
\begin{enumerate}[(i)]
	\item Can't differentiate vector field in directions out of $M$
	\item If you differentiate along directions in the surface, you might end up with a vector pointing out of $M$
	\item If you orthogonally project the answer in (ii) back onto $M$, the choice of embedding will affect the answer.
\end{enumerate}
In order to differentiate a vector field, we'll need to introduce the following machinery:
\begin{itemize}
	\item Tensor and differential forms
	\item Connections
	\item Parallel transport -- moving a vector along a path through a vector field such that its derivative along the path is zero.
	\item Curvature. This captures the path dependence of parallel transport. If a move a vector to a point $p \in M$ along two different paths, I will typically end up with different answers. Curvature captures this difference.
\end{itemize}

\subsection{An abstract example of differentiating something nonobvious}
In physics, there is spacetime which is some manifold $X$. A quantum particle moving along this manifold is described by a wavefunction $\psi \approx X \to \bC$, but it isn't \emph{quite} a function $X\to \bC$. What matters is that you can measure the absolute value $|\psi|$ and the relative phases of two wavefunctions $\psi_1$ and $\psi_2$.

So what exactly \emph{is} $\psi$? The differential geometry answer is that it's a section of a complex line bundle. These means we have a copy of $\bC$ at every point and we can rotate them relative to each other in order to obtain $\psi$. To write down the equations of motion for $\psi$ we need to differentiate it, but now our fancy words have led us to completely lose grip on what $\psi$ actually is. So how do we differentiate $\psi$? This is rather nonobvious, for example, I might insist the derivative of $\psi$ is zero at a point, whereas you might multiply $\psi$ by some crazy function that rotates its phase in some fancy way and thereby insist its derivative is very much nonzero. To keep track of what the derivative in some sensible way, we introduce these things called \textbf{connections.} Connections are what allow us to differentiate vector bundles.

It turns out that the connection is actually the electromagnetic potential, so it has some nice physical meaning. One might call this a $U(1)$ connection, which means it's a $U(1)$ gouge theory. It's curvature is some field strength.

The moral here is that we started with some sensible physics, did some weird maths, and again ended up with some sensible physics stuff.

\subsection{Course Outline and Beyond}
\noindent Course Plan:
\begin{itemize}
	\item Manifolds and smooth maps
	\item (Co)Tangent bundles + tensors
	\item Differential forms and de Rham Cohomology
	\item Submanifolds and foliations
	\item Flows and Lie derivatives
	\item Lie groups and Lie algebras
	\item Principal bundles, connections, and curvature.
\end{itemize}
Where can one go after this course? Within the world of pure maths, can study \textbf{geometric topology}. This includes low-dimensional topology (dimensions 3 and 4) and knot theory. These are both bare manifolds with no additional structure, so it makes sense that one can also study \textbf{geometric manifolds with extra structure}. This includes (pseudo)Riemannian geometry, symplectic geometry and topology, and complex manifolds and K\"ahler geometry. This even has applications to \textbf{complex dynamical systems} and \textbf{statistics}.

\lecture{09-10-2021}{2022-03-01}

\section{Manifolds and Smooth Maps}

\subsection{Manifolds}
We add smoothness later, the first definitions are purely topological.
\begin{defn}\label{defn:top-manifold}
	A \emph{topogical manifold} is a topological space $X$ such that for all $p\in X$ there exists an open neighborhood $U$ of $p \in X$, an open set $V \subseteq \bR^n$, and a homeomorphism $\varphi:U\to{\sim}V$. We also require that $X$ is Hausdorff (i.e. distinct points can always be separated via disjoint open neighborhoods) and second-countable (i.e. has a countable basis). 
\end{defn}
\begin{example}
	$\bR^n$ is a topological $n$-manifold.
	\begin{itemize}
		\item For any $p \in \bR^n$ we can take $U = \bR^n$ and then $\varphi$ to be the identity map on $\bR^n$.
		\item $\bR^n$ is Hausdorff
		\item It is second-countable because of some nonsense about the rationals, i.e. the set of balls with rational radius centered at points of $\bQ^n \subseteq \bR^n$ forms a countable basis for the topology on $\bR^n$.
	\end{itemize}
\end{example}
Why impose the second-countable and Hausdorff conditions? One answer is that any reasonable space ought to satisfy these, so why \emph{not} include them? Another is that they play a role in the proofs of several technical results later on (c.f. Sard's theorem). The best reason is perhaps that you need Hausdorff and second-countable if you want abstract manifolds and embedded manifolds to be equivalent categories; every embedded manifold will inherit second-countability and Hausdorffness from $\bR^n$, so we need these conditions in order for abstract manifolds to be embeddable in $\bR^n$.

\begin{rmk}\label{rmk:Hausdorff-second-countable-comment}
	$ $
	\begin{enumerate}[(i)]
		\item The requirements ``Hausdorff'' and ``second-countable'' are important and not restrictive in practice. For a space locally homeomorphic to $\bR^n$ it's equivalent to require that ``$X$ is metrizable and has countably many connected components''.
		\item ``Hausdorff'' and ``second-countable'' are inherited by topological subspaces.
	\end{enumerate}
\end{rmk}
\begin{example}\label{expl:subspace-is-sub-manifold}
	If $X$ is a topological $n$-manifold then so is any open set $W \subseteq X$. To see this, given $p \in W$ pick
	\begin{align*}
		\varphi:U\to{\sim}V
	\end{align*}
	with $U \subseteq X$ and $V \subseteq \bR^n$, and then take
	\begin{align*}
		\varphi|_{U\cap W}:U\cap W \to{\sim} \varphi(U\cap W)
	\end{align*}
	as the coordinate map on $W$.
\end{example}

\bigskip

We now include a terminology dump.

\bigskip

\noindent \textbf{Terminology}
\begin{enumerate}[(i)]
	\item $\varphi$ is a \emph{chart} about $p$
	\item $U$ is a \emph{coordinate patch}
	\item If $x_1,...,x_n$ are the standard coordinates on $\bR^n$, i.e. $x_i(a_1,...,a_n) = a_i$,then $x_1\circ \varphi,...,x_n\circ \varphi$ are the local coordinates on $U$. We typically suppress $\varphi$ in the notation and simply refer to $x_1,...,x_n$ as the local coordinates on $U$.
	\item The inverse of a chart is a \emph{parameterization}. It's easy to remember which way a parameterization goes, it parameterizes your manifolds with real numbers so it's a map $V \to X$ where $V \subseteq \bR^n$. If you can't remember which way a chart goes, remember which way a parameterization goes.
	\item If $\varphi_1:U_1\to{\sim}V_1$ and $\varphi_2:U_2\to{\sim}V_2$ are two charts, the corresponding local coordinates $x_1,...,x_n$ and $y_1,...,y_n$ are related by the transition function $\varphi_2\circ \varphi_1^{-1}:V_1\cap \varphi_2(U_1)\to{\sim}V_2\cap\varphi_1(U_2)$.
\end{enumerate}

\begin{defn}\label{defn:smooth-map-R^n}
	A map from an open subset of $\bR^a$ to $\bR^b$ is \emph{smooth} if it has all partial derivatives of all orders.
\end{defn}

This is a notion of smoothness on $\bR^n$, but we want a notion of smoothness for maps between manifolds. Here's a half definition:
\begin{predefn}
	Given a manifold $X$, a map $f:X\to \bR$ is smooth if $f\circ \varphi^{-1}$ is smooth for all charts $\varphi$, i.e. $f(x_1,...,x_n)$ is smooth as a function of local coordinates.
\end{predefn}
Notice that this depends on the local coordinates, which might relate to each other in weird ways and cause problems in the future.
\begin{defn}\label{defn:atlas}
	Let $X$ be a topological $n$-manifold.
    \begin{itemize}
		\item An \emph{atlas} for $X$ is a collection
	    \begin{align*}
		    \{\varphi_\alpha:U_\alpha\to V_\alpha\}_{\alpha\in \cA}
	    \end{align*}
	    of charts that cover $X$ (i.e. $\bigcup_{\alpha \in \cA} U_\alpha = X$).\
        \item An atlas is \emph{smooth} if all transition functions $\varphi_\beta\circ\varphi^{-1}_\alpha$ are smooth (as in Definition (\ref{defn:smooth-map-R^n}))
		\item Given a smooth atlas $\bA$, a function $f:X\to \bR$ is \emph{smooth with respect to $\bA$} if $f \circ \varphi^{-1}_\alpha$ is smooth for all $\varphi_\alpha$ in $\bA$.
    \end{itemize}
\end{defn}
\begin{lem}\label{lem:basic-smooth-chart-lemma}
	A function $f:X\to \bR$ is smooth if and only if $\forall p\in X$, $\exists$ a chart $\varphi_\alpha$ about $p$ such that $f \circ \varphi_\alpha^{-1}$ is smooth.
\end{lem}
\begin{prf}
	The forward direction follows straight from the definition of smoothness above. For the converse, take a chart $\varphi_\beta:U_\beta\to V_\beta$. We want that $f\circ \varphi_\beta^{-1}$ is smooth. We know that for all $p \in U_\beta$, there is some $\varphi_\alpha$ such that $f\circ \varphi_\alpha^{-1}$ is smooth. But then near $\varphi_\beta(p)$ we have that
	\begin{align*}
		f\circ \varphi_\beta^{-1} = (f\circ \varphi_\alpha^{-1})\circ (\varphi_\alpha\circ\varphi_\beta^{-1}).
	\end{align*}
	Both of the things on the right are smooth, hence the left hand side is smooth as well.
\end{prf}
This definition works, but it again depends on a choice, this time on a choice of atlas. The atlas isn't particularly something we want to carry around all the time.

\begin{defn}\label{defn:smoothly-equiv-altas}
	Let $X$ again be a topological $n$-manifold.
	\begin{itemize}
		\item Two smooth atlases $\bA$ and $\bB$ are said to be \emph{smoothly equivalent} if $\bA\cup \bB$ is smooth. Smooth equivalence is an equivalence relation.
		\item A \emph{smooth structure on $X$} is an equivalence class of smooth atlases.
	\end{itemize}
\end{defn}
This definition is what will allow us to forget about the atlas and instead consider smooth structures, and the following lemma tells us how:
\begin{lem}\label{lem:}
	If $\bA$ and $\bB$ are smoothly equivalent atlases for a topological manifold $X$, then $f:X\to \bR$ is smooth with respect to $\bA$ if and only if it is smooth with respect to $\bB$.
\end{lem}
We're finally ready to define a smooth $n$-manifold.
\begin{defn}[Smooth Manifold]\label{defn:}
	A \emph{smooth $n$-manifold} is a topological $n$-manifold equipped with a smooth structure. We abbreviate this to ``$n$-manifold'' or ``manifold''.
\end{defn}
\begin{example}$ $
	\begin{itemize}
		\item $\bR^n$ is a smooth $n$-manifold, with smooth structure defined by the atlas $\{\id:\bR^n\to\bR^n\}$.
		\item Open subsets of $\bR^n$ are smooth $n$-manifolds, as before
		\item If $X$ and $Y$ are smooth $m$-manifolds and $n$-manifolds respectively, then $X\times Y$ is a smooth $(m+n)$-manifold defined by product charts.
	\end{itemize}
\end{example}
\begin{rmk}\label{rmk:top-vs-smooth-manifold}$ $
	\begin{itemize}
		\item Being a topological $n$-manifold is a \emph{property of a space}, a topological space is either homeomorphic to a subset of $\bR^n$ or not.
		\item Being a smooth manifold is a property of a topological space \textbf{in addition to} a choice, namely a smooth structure.
	\end{itemize}
	Thus, the question ``is $X$ a topological manifold'' makes sense, whereas ``is $X$ a smooth manifold'' does not. However,
	\begin{enumerate}[(i)]
		\item For $n \leq 3$, every topological $n$-manifold admits a unique smooth structure (up to diffeomorphism).
		\item For $n \geq 4$, a topological $n$-manifold may admit no smooth structure (e.g. the $E_8$ 4-manifold) or it may admit multiple (infinitely many, even) smooth structures (e.g. the exotic $S^7$ sphere, homeomorphic but not diffeomorphic to $S^7$). These results are quite hard.
	\end{enumerate}
\end{rmk}

\lecture{2021-10-12}{2022-03-03}

\begin{defn}\label{defn:dimension-of-manifold}
	For a smooth $n$-manifold $X$, the integer $n$ is called the \emph{dimension} of $X$ (unsurprisingly). We write $\dim X$ for this.
\end{defn}

We'll prove that dimension is invariant under diffeomorphism. You might think that you don't need smooth structure to prove invariance of dimension, and this is true -- but proving that dimension is invariant under homeomorphism is substantially harder and falls in the domain of algebraic topology.

You're free to add charts (or equivalently local coordinates) to your atlas as long as they preserve the smoothness of the manifold. Here is an example to give an idea of what we mean.

\begin{example}\label{expl:add-charts-to-atlas}
	$ $
	\begin{enumerate}[(i)]
		\item Given a point $p \in X$ and an open neighborhood $W$ of $p$, we can always take/add a chart about $p$ contained in $W$
		\item Can choose/add local coordinates about $p$ such that $p$ corresponds to the origin in these coordinates: take any chart $\varphi$ about $p$ and consider $\varphi - \varphi(p)$ to be the new local coordinates. That is, for $p \in U \subseteq X$ and $V \subseteq \bR^n$,
			\begin{align*}
				\varphi:U \to{\sim} V, ~ \varphi - \varphi(p) ~\text{ means do the subtraction in  } \bR^n
			\end{align*}
	\end{enumerate}
\end{example}

\begin{example}\label{expl:n-sphere}
	The \emph{n-sphere}, $S^n$, is the $n$-manifold whose underlying topological space is
	\begin{align*}
		\left\{y \in \bR^{n+1} \midd \|y\|^2 = 1 \subseteq \bR^{n+1}\right\}
	\end{align*}
	with the subspace topology. Smooth structure is defined by the following atlas. There are two charts 
	\begin{align*}
		\varphi_{\pm}:U_{\pm} \to{\sim} \bR^n,
	\end{align*}
	where $U_{\pm} = S^n \setminus \{(0,...,0,\pm 1)\}$ and $\varphi_{\pm}$ is stereographic projection. That is, $U_+$ is the sphere with the north pole removed and $U_-$ is the sphere with the south pole removed.

    As a reminder, stereographic projection involves taking the unique hyperplane through the origin of $\bR^{n+1}$ which is normal to $(0,...,0,\pm 1)$. This is a copy of $\bR^n$. For a point $p \in U_+$, the stereographic projection $\varphi_+(p)$ of $p$ is the unique point on this hyperplane which intersects the line through $N = (0,...,0,1)$ and $p$. Likewise, for $p \in U_-$, $\varphi_-(p)$ is the unique point on the relevant hyperplane which lies on the line between $S = (0,...,0,-1)$ and $p$. The symmetry of the sphere means that for $p \in U_+ \cap U_- = S^n \setminus \{N,S\}$, $\varphi_+(p) = \varphi_-(p)$. Explicitly,
    \begin{align*}
    	\varphi_\pm(y_1,...,y_{n+1}) = \frac{(y_1,...,y_{n+1})}{1 \mp y_{n+1}}.
    \end{align*}
    Local coordinates $x^\pm$ satisfy
    \begin{align*}
	    x_i^\pm = \frac{y_i}{1 \mp y_{n+1}}.
    \end{align*}
    The \emph{height function} $y_{n+1}$ (which is just the projection of a point $p \in S^{n}$ to its $(n+1)$th coordinate, i.e. the height of $p$ above or below the plane through the equator) is smooth since it's given by
	\begin{align*}
		y_{n+1} = \pm \frac{\|x^\pm\|^2 - 1}{\|x^\pm\|^2 + 1} ~ \text{ on } U_\pm.
	\end{align*}
\end{example}

\subsection{Manifolds from Sets}
\textbf{Observation:} If $X$ is a manifold, the charts ``know the topology'' -- a set $W \subseteq X$ is open if and only if $\varphi_\alpha(W)$ is open in $\bR^n$ for all charts $\varphi_\alpha$. This is useful in practice, since it means we can simply take a set with an obvious set of charts to $\bR^n$ and then define the topology on our set by taking the inverse images of opens in $\bR^n$ under our chosen atlas.

More concretely, suppose we're given
\begin{itemize}
	\item a set $X$
	\item a collection $\{U_\alpha\}_{\alpha \in \cA}$ of sets covering $X$
	\item for each $\alpha$, an open set $V_\alpha \subseteq \bR^n$ and a bijection $\varphi_\alpha:U_\alpha \to V_\alpha$.
\end{itemize}
Suppose that for all $\alpha,\beta \in \cA$ the set $\varphi_\alpha(U_\alpha\cap U_\beta)$ is an open in $V_\alpha$ (or equivalently in $\bR^n$) and the map
\begin{align*}
	\varphi_\beta\circ \varphi_\alpha^{-1}: \varphi_\alpha(U_\alpha \cap U_\beta) \to \varphi_\beta(U_\alpha \cap U_\beta)
\end{align*}
is smooth.

\begin{defn}[Non-standard]\label{defn:smooth-pseudo-atlas}
	Call such data a \emph{smooth pseudo-atlas} on $X$, and call the $\varphi_\alpha$ \emph{pseudo-charts}.
\end{defn}

\begin{lem}\label{lem:pseudo-atlas-yields-topology}    
    Declare a set $W \subseteq X$ to be open if and only if for all $\alpha$ the set $\varphi_\alpha(W \cap U_\alpha)$ is open in $\bR^n$. This defines a topology on $X$.
\end{lem}

\begin{prop}\label{prop:pseudo-atlas-gives-atlas}
	As long as $X$ is second-countable and Hausdorff under the topology given by the pseudo atlas, the space resulting from a pseudo atlas is a topological $n$-manifold and the pseudo atlas is a smooth atlas (hence it defines a smooth structure).
\end{prop}
\begin{prf}
	We need to check that the $\varphi_\alpha$ are homeomorphisms and that the $U_\alpha$ are open, but we already have that the transition functions $\varphi_\beta\circ \varphi_\alpha^{-1}$ are smooth by virtue of the pseudo atlas definition. To check that $\varphi_\alpha$ is a homeomorphism, need to check that for all $W \subseteq X$,
	\begin{align*}
		W \text{ open in } X \iff \varphi_\alpha(W) \text{ open in } V_\alpha.
	\end{align*}
	The forward implication is obvious from the definition of a open in $X$, they're defined in terms of their images under $\varphi_\alpha$ for arbitrary $\alpha$. For the reverse implication, suppose that $\varphi_\alpha(W)$ is open. We want to show that, for any other $\beta$, the set $\varphi_\beta(W \cap U_\beta)$ is open. We have
	\begin{align*}
		\varphi_\beta(W \cap U_\beta) 
		&= (\varphi_\beta \circ \varphi_\alpha^{-1})\circ \varphi_\alpha(W \cap U_\beta) \\
		&= (\varphi_\alpha \circ \varphi_\beta^{-1})\left(\varphi_\alpha(W) \cap \varphi_\alpha(U_\alpha\cap U_\beta)\right).
	\end{align*}
    Since $\varphi_\alpha\circ \varphi_\beta^{-1}$ is continuous, $\varphi_\alpha(W)$ is open, and $\varphi_\alpha(U_\alpha \cap U_\beta)$ is open, we are done.
\end{prf}

We say that \emph{two smooth pseudo atlases are equivalent if their union is a smooth pseudo atlas.}
\begin{lem}\label{lem:equiv-pseudo-atlases}
	Equivalent smooth pseudo atlases define the same manifold structure. \hfill $\square$
\end{lem}
This discussion allows us to give a construction of our first interesting example of a manifold.
\begin{example}\label{expl:proj-space}
	The $n$-dimensional \emph{real projective space} $\bRP^n$ is the space of lines (1-dimensional linear subspaces) in $\bR^{n+1}$.
	\begin{itemize}
		\item Any non-zero $x \in \bR^{n+1}$ defines a point $\langle x \rangle \in \bRP^n$
		\item All lines arise in this way.
		\item Two points define the same line if and only if they differ by rescaling
	\end{itemize}
	We therefore label points of $\bRP^n$ by the ratios $[x_0:...:x_n]$ which we call \emph{homogeneous coordinates}. Explicitly, $x = [x_0:...:x_n] = [y_0:...:y_n] = y$ if there is some $\lambda \in \bR$ such that $y = \lambda x$.
\end{example}
Define the following pseudo-charts for $i = 0,...,n$. Let $U_i = \{[x_0:...:x_n] ~\mid~ x_i \neq 0\}$ and define a bijection
\begin{align*}
	\varphi_i:U_i \to \bR^n \buffword{1.5em}{by} [x_0:...:x_n] = \frac{(x_0,...,\hat{x_i},...,x_n)}{x_i}.
\end{align*}
This is a smooth pseudo-atlas and makes $\bRP^n$ into a smooth $n$-manifold.

\begin{example}\label{expl:pseudo-atlas-not-second-countable}
	Take $X = \bR \times \{1,2\} / ~$ where $(x,1) \sim (x,2)$ if $x < 0$, i.e. we take $X$ to be two copies of the real line glued together at the negative points. We have a pseudo atlas given by
	\begin{align*}
		\bR\times \{i\} \to{\sim} \bR,
	\end{align*}
	and while $X$ \emph{is} second-countable, $X$ is not Hausdorff. We have two copies of the origin, but we cannot separate them with open sets. Therefore $X$ is a set with a pseudo-atlas which fails to be a topological $n$-manifold.
\end{example}

\begin{rmk}\label{rmk:pseudo-atlas-constructions-alt-approach}
	We need not always start with a collection $\{V_\alpha\}$ of opens in $\bR^n$ and then specify a way to glue them together.
\end{rmk}

\lecture{2021-10-14}{2022-03-08}

\subsection{Smooth Maps}
Fix two manifolds $X$ and $Y$ with atlases $\{\varphi_\alpha:U_\alpha\to V_\alpha\}_{\alpha \in \cA}$ and $\{\psi_\beta:S_\beta\to T_\beta\}_{\beta\in \cB}$

\begin{defn}\label{defn:smooth-map}
	A map $F:X\to Y$ is \emph{smooth} if it's continuous and if for all $x,\alpha,\beta$ the map 
	\begin{align*}
		\psi_\beta\circ F\circ \varphi^{-1}: \varphi_\alpha \left(F^{-1}(S_\beta) \cap U_\alpha\right) \to T_\beta
	\end{align*}
	is smooth as a map between open subset of $\bR^{\dim X}$ and $\bR^{\dim Y}$.
\end{defn}
\begin{rmk}\label{rmk:why-cts-needed}
	We ask $F$ to be continuous in the above definition so that $\varphi_\alpha \left(F^{-1}(S_\beta)\right)$ is open, which is needed for smoothness to make sense.
\end{rmk}

\begin{example}$ $
	\begin{enumerate}[(i)]
		\item $\id_X$ is smooth
		\item Any constant map is smooth
		\item The projections $\pr_1X\times Y \to X$ and $\pr_2X\times Y \to Y$ are smooth
		\item The inclusion $S^n \hookrightarrow \bR^{n+1}$ is smooth
	\end{enumerate}
\end{example}

\begin{lem}\label{lem:basic-smoothness-properties}
	We have the following basic properties.
	\begin{enumerate}[(i)]
		\item A map $f:X\to \bR$ is smooth if and only if it is smooth in the sense of section 1.1, i.e. as a map of coordinates.
		\item A map between open sets of $\bR^m$ and $\bR^n$ is smooth if and only if it is smooth in the multivariable calculus sense.
		\item Smoothness is local in the source: it's enough to check it locally near each $p \in X$.
		\item The composition of smooth maps is smooth
	\end{enumerate}
\end{lem}
Items (i) and (ii) above just say that smoothness in the manifold sense matches your notion of smoothness in every situation for which you'd want it to.

\begin{example}
	Viewing $\bC^{n+1}$ as $\bR^{2(n+1)}$, we can think of $S^{2n+1}$ as the unit sphere in $\bC^{n+1}$. Any point $x \in S^{2n+1}$ then defines a point $\bC\cdot x \in \bCP^n$. This gives a map
	\begin{align*}
		H:S^{2n+1} \to \bCP^n
	\end{align*}
	called the \emph{Hopf} map. This is smooth (Example Sheet 1).
\end{example}
\begin{defn}\label{defn:diffeomorphism}
	A \emph{diffeomorphism} $X \to Y$ is a smooth map with a smooth two-sided inverse.
\end{defn}
\begin{example}
	$\bCP^1$ is diffeomorphic to $S^2$, so it makes sense to think of $\bCP^1$ as a sphere. We call it the \emph{Riemann sphere.}
\end{example}
\begin{lem}\label{lem:dimension-and-diffeo}
	It $X$ and $Y$ are diffeomorphic non-empty manifolds, then $\dim X = \dim Y$.
\end{lem}
\begin{prf}
	Pick a point $p \in X$ and a diffeomorphism $F:X\to Y$. Pick charts $\varphi:U\to V$ about $p$ and $\psi:S\to T$ about $F(p)$. By shrinking charts, without loss of generality we can assume $F(U) = S$ for convenience.
	\begin{center}
		\begin{tikzcd}
			U \arrow[r,"F"] \arrow[d,"\psi"] & S \arrow[d]\\
			V \arrow[r, "G"]& T
		\end{tikzcd}
	\end{center}
	Let $G = \psi\circ F \circ \varphi^{-1}$, $H = \varphi\circ F^{-1}\circ \psi^{-1}$. Then $D_{\varphi_{(p)}}G$ and $D_{\psi(F(p))}H$ are mutually inverse linear maps $\bR^{\dim X}\to \bR^{\dim Y}$ and $\bR^{\dim Y}\to \bR^{\dim X}$. So $\dim X = \dim Y$.
\end{prf}

\subsection{Tangent Spaces}
\red{Worth including a picture here}
Given a manifold $X$ and a point $p \in X$, we'd like a nice intrinsic way to define the tangent space, i.e. a way to get our hands on the tangent space at $p$ without embedding $X$ into $\bR^d$. We don't have a nice way to get vectors that lie on the surface of our manifold at $p$, but we can consider curves $\gamma:[-1,1]\to X$, $\gamma(0) = p$ which pass through $p$. To recover vectors from this, our idea is to identify curves which have the same ``direction'' at $p$ and then consider the vector space of these equivalence relations.

Fix an $n-manifold$ $X$, $p \in X$.
\begin{defn}\label{defn:curve-based-at-p}
	A \emph{curve based at $p$} is a smooth map $\gamma:I \to X$, where $I$ is an open neighborhood of $0$ in $\bR$ such that $\gamma(0) = p$. We say two curves $\gamma_1$ and $\gamma_2$ \emph{agree to first order} at $p$ if there exists a chart $\varphi:U \to V$ about $p$ such that
	\begin{equation}\label{eq:curves-agree-to-first-order}
		\left(\varphi \circ \gamma_1\right)^\bullet(0) = \left(\varphi\circ \gamma_2\right)^\bullet(0)
	\end{equation}
	as vectors in $\bR^n$.
\end{defn}
One might be worried that two curves agreeing to first order at $p$ is dependent on the choice of atlas -- this is perhaps unsurprisingly not the case.
\begin{lem}\label{lem:first-order-agreement-independent-of-chart}
	If equation (\ref{eq:curves-agree-to-first-order}) for some chart $\varphi$ about $p$ then it holds for all such charts.
\end{lem}
\begin{prf}
	Given a chart $\varphi$ about $p$, write $\pi_p^\varphi$ for the map
	\begin{align*}
		\{\text{curves based at $p$}\} &\to \bR^n \\
		\varphi &\mapsto (\varphi\circ \gamma)^\bullet(0).
	\end{align*}
	Now suppose $\varphi_1$ and $\varphi_2$ are two different charts about $p$. By the chain rule we have 
	\begin{align*}	
	    \pi_p^{\varphi_2} = A \circ \pi_p^{\varphi_1}
	\end{align*}
	where $A$ is the derivative of $\varphi_2\circ \varphi_1^{-1}$ at $\varphi_1(p)$. Note $A$ is invertible. So for curves $\gamma_1, \gamma_2$, we have
	\begin{align*}
		\pi_p^{\varphi_2}(\gamma_1) = \pi_p^{\varphi_2}(\gamma_2) \iff \pi_p^{\varphi_1}(\gamma_1) = \pi_p^{\varphi_1}(\gamma_2).
	\end{align*}
\end{prf}

\begin{cor}
	Agreement to first order is an equivalence relation on curves based at $p$.
\end{cor}
\begin{defn}\label{defn:tangent-space}
	The \emph{tangent space} to $X$ at $p$, denoted $T_pX$, is
	\begin{align*}
		\{\text{curves based at p}\}/\text{agreement to first order}.
	\end{align*}
	We'll write $[\gamma]$ for the tangent vector represented by $\gamma$.
\end{defn}
\begin{prop}\label{prop:tangent-space-is-vspace}
	The tangent space $T_pX$ at a point $p \in X$ naturally carries the structure of an $n$-dimensional vector space.
\end{prop}
\begin{prf}
	For each chart $\varphi$ about $p$, $\pi_p^{\varphi}$ induces a map $T_pX \to \bR^n$. This is tautologically injective. We claim it's surjective. Thus $\pi_p^{\varphi}$ identifies $T_pX$ with $\bR^n$, and the identification for different $\varphi$ differ by a linear automorphism of $\bR^n$, the map we called $A$ in the proof of Lemma (\ref{lem:first-order-agreement-independent-of-chart}). So the induced vector space structure on $T_pX$ is independent of $\varphi$ and is hence natural.

	It remains to prove that $\pi_p^{\varphi}$ is surjective. Take $v \in \bR^n$ and consider the curve $t \mapsto \varphi^{-1}\left(\varphi(p) + t_v\right)$ defined on $(-\epsilon, \epsilon)$ for $\epsilon$ small. This satisfies $\pi_p^{\varphi}(\gamma_v) = v$.
\end{prf}

\begin{defn}\label{defn:basis-of-tangent-space}
	If $x_1,...,x_n$ are local coordinates defined by $\varphi$ and $e_1,...,e_n$ is the standard basis of $\bR^n$, then write $\frac{\partial}{\partial x_i}$ or $\partial_{x_i}$ or $\partial_i$ for $(\pi_p^\varphi)^{-1}(e_i)$.
\end{defn}

Intuitively, $\partial_{x_i}$ is the direction obtained by moving along the $x_i$-axis, i.e. keep all other $x_j$ constant and increase $x_i$ at unit speed. Compare $\partial_x,\partial_y$ to $\partial_r,\partial_\theta$ as coordinates for $\bR^2$. The magnitude of $\partial_x$ and $\partial_y$ won't change as you move around in the $x,y$-plane, but the magnitude of $\partial_\theta$ will. Changing $\theta$ by unit speed far away from the origin involves moving much farther than it does near the origin.

\textbf{Warning:} The vector $\partial_{x_i}$ depends on \emph{all} of the $x_j$, e.g. if $y_1,...,y_n$ are local coordinates such that $y_i = x_i$ then it need not be true that $\partial_{y_i} = \partial_{x_i}$.

\begin{lem}\label{lem:}
	Given two sets of local coordinates about $x_i$ and $y_i$ about $p$, we have
	\begin{align*}
		\frac{\partial}{\partial y_i} = \sum_j \frac{\partial x_j}{\partial y_i}(p) \cdot \frac{\partial}{\partial x_j},
	\end{align*}
	where $\frac{\partial x_j}{\partial y_j}$ comes from the transition function. This will be proved next lecture.
\end{lem}
\end{document}

\input{../preamble.tex}

% lecture commands
newcounter{lecture-counter}
\newcommand{\lecture}[2]
{
	\newpage
	\addtocounter{lecture-counter}{1}
    \tchap{Lecture \arabic{lecture-counter}}
	\vspace{-1.5em}
    \begin{center}
	    \small \emph{Recorded: #1 \hspace{1.5em} Notes: #2}
    \end{center}
}

% start document
\begin{document}
\pagestyle{empty}
	\LARGE
\begin{center}
	Lecture Notes from Differential Geometry (Michaelmas 2021) \\
	\Large
	Isaac Martin \\
    Last compiled \today
\end{center}
\normalsize
\vspace{-2mm}
\hru
\tableofcontents

\lecture{2021-10-07}{2022-03-01}
Main Books:
\begin{itemize}
	\item Nicolaescu: \emph{Lectures on the Geometry of Manifolds}
	\item Lee: Introduction to smooth manifolds
\end{itemize}
\noindent For principal bundles:
\begin{itemize}
	\item Sontz: \emph{Principal Bundles, The Classical Case}
	\item Sontz: \emph{Principal Bundles, The Quantum Case}
\end{itemize}
\noindent For physicists:
\begin{itemize}
	\item Nakahara: \emph{Geometry, Topology, and Physics.}
\end{itemize}

There will be times in the course where we refer to these books (almost exclusively Lee and Nicolaescu) for proofs which we take as black boxes -- analysis-flavored things with which we do not wish to get sidetracked. These are not things that differential geometers don't typically think about. These proofs are non-examinable.

\bigskip

\setcounter{section}{-1}
\section{What is differential geometry?}
Differential geometry is the study of smooth manifolds: spaces that locally look like $\bR^n$ in a smooth way.

\noindent There are two primary ways to think about manifolds.
\begin{itemize}
	\item \textbf{Embedded Manifolds} (Extrinsic Geometry): These are embedded manifolds viewed as subspaces in $\bR^n$ for some sufficiently large $n$. e.g. spheres, tori, genus 2 spaces are smooth subsets of $\bR^3$. Could also take $\{x^2 = y^2 + 1\} \subset \bR^2$, which is a hyperbola. There is some subtlety about which equations we can take; for instance, $x^2 = y^2$ is \emph{not} smooth. Could also take $\SO(n) \subseteq \bR^{n^2}$, this is the set of $n \times n$ matrices so that $A^TA = 1$ and $\det(A) = 1$.

	\item \textbf{Abstract Manifolds} (Intrinsic Geometry): Reasonable topological spaces such that about each point $p$ there are local coordinates such that coordinate transformations are smooth (i.e. $C^\infty$).
\end{itemize}
One might worry that the embedding chosen in the first of the above cases affects the structure of the space. Working in the latter framework avoids this issue, since we don't care about the ambient space. Luckily, thanks to results such as the Whitney embedding theorem, we know that these two definitions are equivalent. We can always embed an abstract manifold in some high dimensional Euclidean space and can write down an embedded manifold as a smooth manifold.

\bigskip

\subsection{Important Constructions}
Once you have a manifold, there are some basic constructions you care about.

The \textbf{tangent space} at a point of a manifold is some linear approximation of the manifold at a point. It is clear how to define this for an embedded manifold -- we can write down explicit equations describing a hypersurface tangent to the manifold at a point -- but is less clear in the abstract case.

\textbf{Smooth maps} between manifolds and their derivatives are another object one might care about. The derivative of a smooth map ought to be some linear approximation of the map, and will therefore involve the tangent space.

\textbf{Vector fields} on the surface of a manifold objects which assign a vector to each point of a manifold. Closely related to this is the concept of a \textbf{flow}, which captures the idea of moving through the vector field in some way.

\textbf{Submanifolds} ought to make sense in some way. Embedded manifolds are submanifolds of $\bR^n$, for instance.

We can even give our manifolds more structure, for instance, we can think of a group structure that is compatible with the smooth structure of the manifold. These are called \textbf{Lie groups}. There are surprising things that come out of doing things like this, for example, the tangent space at the identity of a Lie group becomes a \textbf{Lie algebra}. There is then a map from a Lie algebra to its associated Lie group called the exponential map:
\begin{equation}
	\exp: \frakg \to \frakG.
\end{equation}
For $\GL_n(\bR)$, the tangent space at the identity is $\Mat_{n\times n}(\bR)$. It's Lie algebra structure is given by the commutator $[A,B] = AB - BA$, and the exponential map is
\begin{align*}
	A \mapsto I + A + \frac{A^2}{2!} + ...
\end{align*}

\bigskip

Some questions are more subtle, however. One such question is this: "How does one differentiate a vector field?" One might go away and invent the rest of this course solely by trying to answer this question. For a vector field on $\bR^n$, this is easy. What about a vector field on an embedded manifold $M \subseteq \bR^3$? 

One problem you immediately run into is that there is no way to differentiate in directions out of the surface, it's simply not defined. Even if we restrict to differentiating in directions pointing along the surface, the answer might yield a vector pointing out of the surface, so this is still a problem. For simple example of this, see minute 27:05 in the recording.

The obvious fix might be that you take the derivative of a vector field and then orthogonally project back onto the manifold, but then the choice of embedding matters quite a lot. To summarize,
\begin{enumerate}[(i)]
	\item Can't differentiate vector field in directions out of $M$
	\item If you differentiate along directions in the surface, you might end up with a vector pointing out of $M$
	\item If you orthogonally project the answer in (ii) back onto $M$, the choice of embedding will affect the answer.
\end{enumerate}
In order to differentiate a vector field, we'll need to introduce the following machinery:
\begin{itemize}
	\item Tensor and differential forms
	\item Connections
	\item Parallel transport -- moving a vector along a path through a vector field such that its derivative along the path is zero.
	\item Curvature. This captures the path dependence of parallel transport. If a move a vector to a point $p \in M$ along two different paths, I will typically end up with different answers. Curvature captures this difference.
\end{itemize}

\subsection{An abstract example of differentiating something nonobvious}
In physics, there is spacetime which is some manifold $X$. A quantum particle moving along this manifold is described by a wavefunction $\psi \approx X \to \bC$, but it isn't \emph{quite} a function $X\to \bC$. What matters is that you can measure the absolute value $|\psi|$ and the relative phases of two wavefunctions $\psi_1$ and $\psi_2$.

So what exactly \emph{is} $\psi$? The differential geometry answer is that it's a section of a complex line bundle. These means we have a copy of $\bC$ at every point and we can rotate them relative to each other in order to obtain $\psi$. To write down the equations of motion for $\psi$ we need to differentiate it, but now our fancy words have led us to completely lose grip on what $\psi$ actually is. So how do we differentiate $\psi$? This is rather nonobvious, for example, I might insist the derivative of $\psi$ is zero at a point, whereas you might multiply $\psi$ by some crazy function that rotates its phase in some fancy way and thereby insist its derivative is very much nonzero. To keep track of what the derivative in some sensible way, we introduce these things called \textbf{connections.} Connections are what allow us to differentiate vector bundles.

It turns out that the connection is actually the electromagnetic potential, so it has some nice physical meaning. One might call this a $U(1)$ connection, which means it's a $U(1)$ gouge theory. It's curvature is some field strength.

The moral here is that we started with some sensible physics, did some weird maths, and again ended up with some sensible physics stuff.

\subsection{Course Outline and Beyond}
\noindent Course Plan:
\begin{itemize}
	\item Manifolds and smooth maps
	\item (Co)Tangent bundles + tensors
	\item Differential forms and de Rham Cohomology
	\item Submanifolds and foliations
	\item Flows and Lie derivatives
	\item Lie groups and Lie algebras
	\item Principal bundles, connections, and curvature.
\end{itemize}
Where can one go after this course? Within the world of pure maths, can study \textbf{geometric topology}. This includes low-dimensional topology (dimensions 3 and 4) and knot theory. These are both bare manifolds with no additional structure, so it makes sense that one can also study \textbf{geometric manifolds with extra structure}. This includes (pseudo)Riemannian geometry, symplectic geometry and topology, and complex manifolds and K\"ahler geometry. This even has applications to \textbf{complex dynamical systems} and \textbf{statistics}.

\lecture{09-10-2021}{2022-03-01}

\section{Manifolds and Smooth Maps}

\subsection{Manifolds}
We add smoothness later, the first definitions are purely topological.
\begin{defn}\label{defn:top-manifold}
	A \emph{topogical manifold} is a topological space $X$ such that for all $p\in X$ there exists an open neighborhood $U$ of $p \in X$, an open set $V \subseteq \bR^n$, and a homeomorphism $\varphi:U\to{\sim}V$. We also require that $X$ is Hausdorff (i.e. distinct points can always be separated via disjoint open neighborhoods) and second-countable (i.e. has a countable basis). 
\end{defn}
\begin{example}
	$\bR^n$ is a topological $n$-manifold.
	\begin{itemize}
		\item For any $p \in \bR^n$ we can take $U = \bR^n$ and then $\varphi$ to be the identity map on $\bR^n$.
		\item $\bR^n$ is Hausdorff
		\item It is second-countable because of some nonsense about the rationals, i.e. the set of balls with rational radius centered at points of $\bQ^n \subseteq \bR^n$ forms a countable basis for the topology on $\bR^n$.
	\end{itemize}
\end{example}
Why impose the second-countable and Hausdorff conditions? One answer is that any reasonable space ought to satisfy these, so why \emph{not} include them? Another is that they play a role in the proofs of several technical results later on (c.f. Sard's theorem). The best reason is perhaps that you need Hausdorff and second-countable if you want abstract manifolds and embedded manifolds to be equivalent categories; every embedded manifold will inherit second-countability and Hausdorffness from $\bR^n$, so we need these conditions in order for abstract manifolds to be embeddable in $\bR^n$.

\begin{rmk}\label{rmk:Hausdorff-second-countable-comment}
	$ $
	\begin{enumerate}[(i)]
		\item The requirements ``Hausdorff'' and ``second-countable'' are important and not restrictive in practice. For a space locally homeomorphic to $\bR^n$ it's equivalent to require that ``$X$ is metrizable and has countably many connected components''.
		\item ``Hausdorff'' and ``second-countable'' are inherited by topological subspaces.
	\end{enumerate}
\end{rmk}
\begin{example}\label{expl:subspace-is-sub-manifold}
	If $X$ is a topological $n$-manifold then so is any open set $W \subseteq X$. To see this, given $p \in W$ pick
	\begin{align*}
		\varphi:U\to{\sim}V
	\end{align*}
	with $U \subseteq X$ and $V \subseteq \bR^n$, and then take
	\begin{align*}
		\varphi|_{U\cap W}:U\cap W \to{\sim} \varphi(U\cap W)
	\end{align*}
	as the coordinate map on $W$.
\end{example}

\bigskip

We now include a terminology dump.

\bigskip

\noindent \textbf{Terminology}
\begin{enumerate}[(i)]
	\item $\varphi$ is a \emph{chart} about $p$
	\item $U$ is a \emph{coordinate patch}
	\item If $x_1,...,x_n$ are the standard coordinates on $\bR^n$, i.e. $x_i(a_1,...,a_n) = a_i$,then $x_1\circ \varphi,...,x_n\circ \varphi$ are the local coordinates on $U$. We typically suppress $\varphi$ in the notation and simply refer to $x_1,...,x_n$ as the local coordinates on $U$.
	\item The inverse of a chart is a \emph{parameterization}. It's easy to remember which way a parameterization goes, it parameterizes your manifolds with real numbers so it's a map $V \to X$ where $V \subseteq \bR^n$. If you can't remember which way a chart goes, remember which way a parameterization goes.
	\item If $\varphi_1:U_1\to{\sim}V_1$ and $\varphi_2:U_2\to{\sim}V_2$ are two charts, the corresponding local coordinates $x_1,...,x_n$ and $y_1,...,y_n$ are related by the transition function $\varphi_2\circ \varphi_1^{-1}:V_1\cap \varphi_2(U_1)\to{\sim}V_2\cap\varphi_1(U_2)$.
\end{enumerate}

\begin{defn}\label{defn:smooth-map-R^n}
	A map from an open subset of $\bR^a$ to $\bR^b$ is \emph{smooth} if it has all partial derivatives of all orders.
\end{defn}

This is a notion of smoothness on $\bR^n$, but we want a notion of smoothness for maps between manifolds. Here's a half definition:
\begin{predefn}
	Given a manifold $X$, a map $f:X\to \bR$ is smooth if $f\circ \varphi^{-1}$ is smooth for all charts $\varphi$, i.e. $f(x_1,...,x_n)$ is smooth as a function of local coordinates.
\end{predefn}
Notice that this depends on the local coordinates, which might relate to each other in weird ways and cause problems in the future.
\begin{defn}\label{defn:atlas}
	Let $X$ be a topological $n$-manifold.
    \begin{itemize}
		\item An \emph{atlas} for $X$ is a collection
	    \begin{align*}
		    \{\varphi_\alpha:U_\alpha\to V_\alpha\}_{\alpha\in \cA}
	    \end{align*}
	    of charts that cover $X$ (i.e. $\bigcup_{\alpha \in \cA} U_\alpha = X$).\
        \item An atlas is \emph{smooth} if all transition functions $\varphi_\beta\circ\varphi^{-1}_\alpha$ are smooth (as in Definition (\ref{defn:smooth-map-R^n}))
		\item Given a smooth atlas $\bA$, a function $f:X\to \bR$ is \emph{smooth with respect to $\bA$} if $f \circ \varphi^{-1}_\alpha$ is smooth for all $\varphi_\alpha$ in $\bA$.
    \end{itemize}
\end{defn}
\begin{lem}\label{lem:basic-smooth-chart-lemma}
	A function $f:X\to \bR$ is smooth if and only if $\forall p\in X$, $\exists$ a chart $\varphi_\alpha$ about $p$ such that $f \circ \varphi_\alpha^{-1}$ is smooth.
\end{lem}
\begin{prf}
	The forward direction follows straight from the definition of smoothness above. For the converse, take a chart $\varphi_\beta:U_\beta\to V_\beta$. We want that $f\circ \varphi_\beta^{-1}$ is smooth. We know that for all $p \in U_\beta$, there is some $\varphi_\alpha$ such that $f\circ \varphi_\alpha^{-1}$ is smooth. But then near $\varphi_\beta(p)$ we have that
	\begin{align*}
		f\circ \varphi_\beta^{-1} = (f\circ \varphi_\alpha^{-1})\circ (\varphi_\alpha\circ\varphi_\beta^{-1}).
	\end{align*}
	Both of the things on the right are smooth, hence the left hand side is smooth as well.
\end{prf}
This definition works, but it again depends on a choice, this time on a choice of atlas. The atlas isn't particularly something we want to carry around all the time.

\begin{defn}\label{defn:smoothly-equiv-altas}
	Let $X$ again be a topological $n$-manifold.
	\begin{itemize}
		\item Two smooth atlases $\bA$ and $\bB$ are said to be \emph{smoothly equivalent} if $\bA\cup \bB$ is smooth. Smooth equivalence is an equivalence relation.
		\item A \emph{smooth structure on $X$} is an equivalence class of smooth atlases.
	\end{itemize}
\end{defn}
This definition is what will allow us to forget about the atlas and instead consider smooth structures, and the following lemma tells us how:
\begin{lem}\label{lem:}
	If $\bA$ and $\bB$ are smoothly equivalent atlases for a topological manifold $X$, then $f:X\to \bR$ is smooth with respect to $\bA$ if and only if it is smooth with respect to $\bB$.
\end{lem}
We're finally ready to define a smooth $n$-manifold.
\begin{defn}[Smooth Manifold]\label{defn:}
	A \emph{smooth $n$-manifold} is a topological $n$-manifold equipped with a smooth structure. We abbreviate this to ``$n$-manifold'' or ``manifold''.
\end{defn}
\begin{example}$ $
	\begin{itemize}
		\item $\bR^n$ is a smooth $n$-manifold, with smooth structure defined by the atlas $\{\id:\bR^n\to\bR^n\}$.
		\item Open subsets of $\bR^n$ are smooth $n$-manifolds, as before
		\item If $X$ and $Y$ are smooth $m$-manifolds and $n$-manifolds respectively, then $X\times Y$ is a smooth $(m+n)$-manifold defined by product charts.
	\end{itemize}
\end{example}
\begin{rmk}\label{rmk:top-vs-smooth-manifold}$ $
	\begin{itemize}
		\item Being a topological $n$-manifold is a \emph{property of a space}, a topological space is either homeomorphic to a subset of $\bR^n$ or not.
		\item Being a smooth manifold is a property of a topological space \textbf{in addition to} a choice, namely a smooth structure.
	\end{itemize}
	Thus, the question ``is $X$ a topological manifold'' makes sense, whereas ``is $X$ a smooth manifold'' does not. However,
	\begin{enumerate}[(i)]
		\item For $n \leq 3$, every topological $n$-manifold admits a unique smooth structure (up to diffeomorphism).
		\item For $n \geq 4$, a topological $n$-manifold may admit no smooth structure (e.g. the $E_8$ 4-manifold) or it may admit multiple (infinitely many, even) smooth structures (e.g. the exotic $S^7$ sphere, homeomorphic but not diffeomorphic to $S^7$). These results are quite hard.
	\end{enumerate}
\end{rmk}

\lecture{2021-10-12}{2022-03-03}

\begin{defn}\label{defn:dimension-of-manifold}
	For a smooth $n$-manifold $X$, the integer $n$ is called the \emph{dimension} of $X$ (unsurprisingly). We write $\dim X$ for this.
\end{defn}

We'll prove that dimension is invariant under diffeomorphism. You might think that you don't need smooth structure to prove invariance of dimension, and this is true -- but proving that dimension is invariant under homeomorphism is substantially harder and falls in the domain of algebraic topology.

You're free to add charts (or equivalently local coordinates) to your atlas as long as they preserve the smoothness of the manifold. Here is an example to give an idea of what we mean.

\begin{example}\label{expl:add-charts-to-atlas}
	$ $
	\begin{enumerate}[(i)]
		\item Given a point $p \in X$ and an open neighborhood $W$ of $p$, we can always take/add a chart about $p$ contained in $W$
		\item Can choose/add local coordinates about $p$ such that $p$ corresponds to the origin in these coordinates: take any chart $\varphi$ about $p$ and consider $\varphi - \varphi(p)$ to be the new local coordinates. That is, for $p \in U \subseteq X$ and $V \subseteq \bR^n$,
			\begin{align*}
				\varphi:U \to{\sim} V, ~ \varphi - \varphi(p) ~\text{ means do the subtraction in  } \bR^n
			\end{align*}
	\end{enumerate}
\end{example}

\begin{example}\label{expl:n-sphere}
	The \emph{n-sphere}, $S^n$, is the $n$-manifold whose underlying topological space is
	\begin{align*}
		\left\{y \in \bR^{n+1} \midd \|y\|^2 = 1 \subseteq \bR^{n+1}\right\}
	\end{align*}
	with the subspace topology. Smooth structure is defined by the following atlas. There are two charts 
	\begin{align*}
		\varphi_{\pm}:U_{\pm} \to{\sim} \bR^n,
	\end{align*}
	where $U_{\pm} = S^n \setminus \{(0,...,0,\pm 1)\}$ and $\varphi_{\pm}$ is stereographic projection. That is, $U_+$ is the sphere with the north pole removed and $U_-$ is the sphere with the south pole removed.

    As a reminder, stereographic projection involves taking the unique hyperplane through the origin of $\bR^{n+1}$ which is normal to $(0,...,0,\pm 1)$. This is a copy of $\bR^n$. For a point $p \in U_+$, the stereographic projection $\varphi_+(p)$ of $p$ is the unique point on this hyperplane which intersects the line through $N = (0,...,0,1)$ and $p$. Likewise, for $p \in U_-$, $\varphi_-(p)$ is the unique point on the relevant hyperplane which lies on the line between $S = (0,...,0,-1)$ and $p$. The symmetry of the sphere means that for $p \in U_+ \cap U_- = S^n \setminus \{N,S\}$, $\varphi_+(p) = \varphi_-(p)$. Explicitly,
    \begin{align*}
    	\varphi_\pm(y_1,...,y_{n+1}) = \frac{(y_1,...,y_{n+1})}{1 \mp y_{n+1}}.
    \end{align*}
    Local coordinates $x^\pm$ satisfy
    \begin{align*}
	    x_i^\pm = \frac{y_i}{1 \mp y_{n+1}}.
    \end{align*}
    The \emph{height function} $y_{n+1}$ (which is just the projection of a point $p \in S^{n}$ to its $(n+1)$th coordinate, i.e. the height of $p$ above or below the plane through the equator) is smooth since it's given by
	\begin{align*}
		y_{n+1} = \pm \frac{\|x^\pm\|^2 - 1}{\|x^\pm\|^2 + 1} ~ \text{ on } U_\pm.
	\end{align*}
\end{example}

\subsection{Manifolds from Sets}
\textbf{Observation:} If $X$ is a manifold, the charts ``know the topology'' -- a set $W \subseteq X$ is open if and only if $\varphi_\alpha(W)$ is open in $\bR^n$ for all charts $\varphi_\alpha$. This is useful in practice, since it means we can simply take a set with an obvious set of charts to $\bR^n$ and then define the topology on our set by taking the inverse images of opens in $\bR^n$ under our chosen atlas.

More concretely, suppose we're given
\begin{itemize}
	\item a set $X$
	\item a collection $\{U_\alpha\}_{\alpha \in \cA}$ of sets covering $X$
	\item for each $\alpha$, an open set $V_\alpha \subseteq \bR^n$ and a bijection $\varphi_\alpha:U_\alpha \to V_\alpha$.
\end{itemize}
Suppose that for all $\alpha,\beta \in \cA$ the set $\varphi_\alpha(U_\alpha\cap U_\beta)$ is an open in $V_\alpha$ (or equivalently in $\bR^n$) and the map
\begin{align*}
	\varphi_\beta\circ \varphi_\alpha^{-1}: \varphi_\alpha(U_\alpha \cap U_\beta) \to \varphi_\beta(U_\alpha \cap U_\beta)
\end{align*}
is smooth.

\begin{defn}[Non-standard]\label{defn:smooth-pseudo-atlas}
	Call such data a \emph{smooth pseudo-atlas} on $X$, and call the $\varphi_\alpha$ \emph{pseudo-charts}.
\end{defn}

\begin{lem}\label{lem:pseudo-atlas-yields-topology}    
    Declare a set $W \subseteq X$ to be open if and only if for all $\alpha$ the set $\varphi_\alpha(W \cap U_\alpha)$ is open in $\bR^n$. This defines a topology on $X$.
\end{lem}

\begin{prop}\label{prop:pseudo-atlas-gives-atlas}
	As long as $X$ is second-countable and Hausdorff under the topology given by the pseudo atlas, the space resulting from a pseudo atlas is a topological $n$-manifold and the pseudo atlas is a smooth atlas (hence it defines a smooth structure).
\end{prop}
\begin{prf}
	We need to check that the $\varphi_\alpha$ are homeomorphisms and that the $U_\alpha$ are open, but we already have that the transition functions $\varphi_\beta\circ \varphi_\alpha^{-1}$ are smooth by virtue of the pseudo atlas definition. To check that $\varphi_\alpha$ is a homeomorphism, need to check that for all $W \subseteq X$,
	\begin{align*}
		W \text{ open in } X \iff \varphi_\alpha(W) \text{ open in } V_\alpha.
	\end{align*}
	The forward implication is obvious from the definition of a open in $X$, they're defined in terms of their images under $\varphi_\alpha$ for arbitrary $\alpha$. For the reverse implication, suppose that $\varphi_\alpha(W)$ is open. We want to show that, for any other $\beta$, the set $\varphi_\beta(W \cap U_\beta)$ is open. We have
	\begin{align*}
		\varphi_\beta(W \cap U_\beta) 
		&= (\varphi_\beta \circ \varphi_\alpha^{-1})\circ \varphi_\alpha(W \cap U_\beta) \\
		&= (\varphi_\alpha \circ \varphi_\beta^{-1})\left(\varphi_\alpha(W) \cap \varphi_\alpha(U_\alpha\cap U_\beta)\right).
	\end{align*}
    Since $\varphi_\alpha\circ \varphi_\beta^{-1}$ is continuous, $\varphi_\alpha(W)$ is open, and $\varphi_\alpha(U_\alpha \cap U_\beta)$ is open, we are done.
\end{prf}

We say that \emph{two smooth pseudo atlases are equivalent if their union is a smooth pseudo atlas.}
\begin{lem}\label{lem:equiv-pseudo-atlases}
	Equivalent smooth pseudo atlases define the same manifold structure. \hfill $\square$
\end{lem}
This discussion allows us to give a construction of our first interesting example of a manifold.
\begin{example}\label{expl:proj-space}
	The $n$-dimensional \emph{real projective space} $\bRP^n$ is the space of lines (1-dimensional linear subspaces) in $\bR^{n+1}$.
	\begin{itemize}
		\item Any non-zero $x \in \bR^{n+1}$ defines a point $\langle x \rangle \in \bRP^n$
		\item All lines arise in this way.
		\item Two points define the same line if and only if they differ by rescaling
	\end{itemize}
	We therefore label points of $\bRP^n$ by the ratios $[x_0:...:x_n]$ which we call \emph{homogeneous coordinates}. Explicitly, $x = [x_0:...:x_n] = [y_0:...:y_n] = y$ if there is some $\lambda \in \bR$ such that $y = \lambda x$.
\end{example}
Define the following pseudo-charts for $i = 0,...,n$. Let $U_i = \{[x_0:...:x_n] ~\mid~ x_i \neq 0\}$ and define a bijection
\begin{align*}
	\varphi_i:U_i \to \bR^n \buffword{1.5em}{by} [x_0:...:x_n] = \frac{(x_0,...,\hat{x_i},...,x_n)}{x_i}.
\end{align*}
This is a smooth pseudo-atlas and makes $\bRP^n$ into a smooth $n$-manifold.

\begin{example}\label{expl:pseudo-atlas-not-second-countable}
	Take $X = \bR \times \{1,2\} / ~$ where $(x,1) \sim (x,2)$ if $x < 0$, i.e. we take $X$ to be two copies of the real line glued together at the negative points. We have a pseudo atlas given by
	\begin{align*}
		\bR\times \{i\} \to{\sim} \bR,
	\end{align*}
	and while $X$ \emph{is} second-countable, $X$ is not Hausdorff. We have two copies of the origin, but we cannot separate them with open sets. Therefore $X$ is a set with a pseudo-atlas which fails to be a topological $n$-manifold.
\end{example}

\begin{rmk}\label{rmk:pseudo-atlas-constructions-alt-approach}
	We need not always start with a collection $\{V_\alpha\}$ of opens in $\bR^n$ and then specify a way to glue them together.
\end{rmk}

\lecture{2021-10-14}{2022-03-08}

\subsection{Smooth Maps}
Fix two manifolds $X$ and $Y$ with atlases $\{\varphi_\alpha:U_\alpha\to V_\alpha\}_{\alpha \in \cA}$ and $\{\psi_\beta:S_\beta\to T_\beta\}_{\beta\in \cB}$

\begin{defn}\label{defn:smooth-map}
	A map $F:X\to Y$ is \emph{smooth} if it's continuous and if for all $x,\alpha,\beta$ the map 
	\begin{align*}
		\psi_\beta\circ F\circ \varphi^{-1}: \varphi_\alpha \left(F^{-1}(S_\beta) \cap U_\alpha\right) \to T_\beta
	\end{align*}
	is smooth as a map between open subset of $\bR^{\dim X}$ and $\bR^{\dim Y}$.
\end{defn}
\begin{rmk}\label{rmk:why-cts-needed}
	We ask $F$ to be continuous in the above definition so that $\varphi_\alpha \left(F^{-1}(S_\beta)\right)$ is open, which is needed for smoothness to make sense.
\end{rmk}

\begin{example}$ $
	\begin{enumerate}[(i)]
		\item $\id_X$ is smooth
		\item Any constant map is smooth
		\item The projections $\pr_1X\times Y \to X$ and $\pr_2X\times Y \to Y$ are smooth
		\item The inclusion $S^n \hookrightarrow \bR^{n+1}$ is smooth
	\end{enumerate}
\end{example}

\begin{lem}\label{lem:basic-smoothness-properties}
	We have the following basic properties.
	\begin{enumerate}[(i)]
		\item A map $f:X\to \bR$ is smooth if and only if it is smooth in the sense of section 1.1, i.e. as a map of coordinates.
		\item A map between open sets of $\bR^m$ and $\bR^n$ is smooth if and only if it is smooth in the multivariable calculus sense.
		\item Smoothness is local in the source: it's enough to check it locally near each $p \in X$.
		\item The composition of smooth maps is smooth
	\end{enumerate}
\end{lem}
Items (i) and (ii) above just say that smoothness in the manifold sense matches your notion of smoothness in every situation for which you'd want it to.

\begin{example}
	Viewing $\bC^{n+1}$ as $\bR^{2(n+1)}$, we can think of $S^{2n+1}$ as the unit sphere in $\bC^{n+1}$. Any point $x \in S^{2n+1}$ then defines a point $\bC\cdot x \in \bCP^n$. This gives a map
	\begin{align*}
		H:S^{2n+1} \to \bCP^n
	\end{align*}
	called the \emph{Hopf} map. This is smooth (Example Sheet 1).
\end{example}
\begin{defn}\label{defn:diffeomorphism}
	A \emph{diffeomorphism} $X \to Y$ is a smooth map with a smooth two-sided inverse.
\end{defn}
\begin{example}
	$\bCP^1$ is diffeomorphic to $S^2$, so it makes sense to think of $\bCP^1$ as a sphere. We call it the \emph{Riemann sphere.}
\end{example}
\begin{lem}\label{lem:dimension-and-diffeo}
	It $X$ and $Y$ are diffeomorphic non-empty manifolds, then $\dim X = \dim Y$.
\end{lem}
\begin{prf}
	Pick a point $p \in X$ and a diffeomorphism $F:X\to Y$. Pick charts $\varphi:U\to V$ about $p$ and $\psi:S\to T$ about $F(p)$. By shrinking charts, without loss of generality we can assume $F(U) = S$ for convenience.
	\begin{center}
		\begin{tikzcd}
			U \arrow[r,"F"] \arrow[d,"\psi"] & S \arrow[d]\\
			V \arrow[r, "G"]& T
		\end{tikzcd}
	\end{center}
	Let $G = \psi\circ F \circ \varphi^{-1}$, $H = \varphi\circ F^{-1}\circ \psi^{-1}$. Then $D_{\varphi_{(p)}}G$ and $D_{\psi(F(p))}H$ are mutually inverse linear maps $\bR^{\dim X}\to \bR^{\dim Y}$ and $\bR^{\dim Y}\to \bR^{\dim X}$. So $\dim X = \dim Y$.
\end{prf}

\subsection{Tangent Spaces}
\red{Worth including a picture here}
Given a manifold $X$ and a point $p \in X$, we'd like a nice intrinsic way to define the tangent space, i.e. a way to get our hands on the tangent space at $p$ without embedding $X$ into $\bR^d$. We don't have a nice way to get vectors that lie on the surface of our manifold at $p$, but we can consider curves $\gamma:[-1,1]\to X$, $\gamma(0) = p$ which pass through $p$. To recover vectors from this, our idea is to identify curves which have the same ``direction'' at $p$ and then consider the vector space of these equivalence relations.

Fix an $n-manifold$ $X$, $p \in X$.
\begin{defn}\label{defn:curve-based-at-p}
	A \emph{curve based at $p$} is a smooth map $\gamma:I \to X$, where $I$ is an open neighborhood of $0$ in $\bR$ such that $\gamma(0) = p$. We say two curves $\gamma_1$ and $\gamma_2$ \emph{agree to first order} at $p$ if there exists a chart $\varphi:U \to V$ about $p$ such that
	\begin{equation}\label{eq:curves-agree-to-first-order}
		\left(\varphi \circ \gamma_1\right)^\bullet(0) = \left(\varphi\circ \gamma_2\right)^\bullet(0)
	\end{equation}
	as vectors in $\bR^n$.
\end{defn}
One might be worried that two curves agreeing to first order at $p$ is dependent on the choice of atlas -- this is perhaps unsurprisingly not the case.
\begin{lem}\label{lem:first-order-agreement-independent-of-chart}
	If equation (\ref{eq:curves-agree-to-first-order}) for some chart $\varphi$ about $p$ then it holds for all such charts.
\end{lem}
\begin{prf}
	Given a chart $\varphi$ about $p$, write $\pi_p^\varphi$ for the map
	\begin{align*}
		\{\text{curves based at $p$}\} &\to \bR^n \\
		\gamma &\mapsto (\varphi\circ \gamma)^\bullet(0).
	\end{align*}
	Now suppose $\varphi_1$ and $\varphi_2$ are two different charts about $p$. By the chain rule we have 
	\begin{align*}	
	    \pi_p^{\varphi_2} = A \circ \pi_p^{\varphi_1}
	\end{align*}
	where $A$ is the derivative of $\varphi_2\circ \varphi_1^{-1}$ at $\varphi_1(p)$. Note $A$ is invertible. So for curves $\gamma_1, \gamma_2$, we have
	\begin{align*}
		\pi_p^{\varphi_2}(\gamma_1) = \pi_p^{\varphi_2}(\gamma_2) \iff \pi_p^{\varphi_1}(\gamma_1) = \pi_p^{\varphi_1}(\gamma_2).
	\end{align*}
\end{prf}

\begin{cor}
	Agreement to first order is an equivalence relation on curves based at $p$.
\end{cor}
\begin{defn}\label{defn:tangent-space}
	The \emph{tangent space} to $X$ at $p$, denoted $T_pX$, is
	\begin{align*}
		\{\text{curves based at p}\}/\text{agreement to first order}.
	\end{align*}
	We'll write $[\gamma]$ for the tangent vector represented by $\gamma$.
\end{defn}
\begin{prop}\label{prop:tangent-space-is-vspace}
	The tangent space $T_pX$ at a point $p \in X$ naturally carries the structure of an $n$-dimensional vector space.
\end{prop}
\begin{prf}
	For each chart $\varphi$ about $p$, $\pi_p^{\varphi}$ induces a map $T_pX \to \bR^n$. This is tautologically injective. We claim it's surjective. Thus $\pi_p^{\varphi}$ identifies $T_pX$ with $\bR^n$, and the identification for different $\varphi$ differ by a linear automorphism of $\bR^n$, the map we called $A$ in the proof of Lemma (\ref{lem:first-order-agreement-independent-of-chart}). So the induced vector space structure on $T_pX$ is independent of $\varphi$ and is hence natural.

	It remains to prove that $\pi_p^{\varphi}$ is surjective. Take $v \in \bR^n$ and consider the curve $t \mapsto \varphi^{-1}\left(\varphi(p) + t_v\right)$ defined on $(-\epsilon, \epsilon)$ for $\epsilon$ small. This satisfies $\pi_p^{\varphi}(\gamma_v) = v$.
\end{prf}

\begin{defn}\label{defn:basis-of-tangent-space}
	If $x_1,...,x_n$ are local coordinates defined by $\varphi$ and $e_1,...,e_n$ is the standard basis of $\bR^n$, then write $\frac{\partial}{\partial x_i}$ or $\partial_{x_i}$ or $\partial_i$ for $(\pi_p^\varphi)^{-1}(e_i)$.
\end{defn}

Intuitively, $\partial_{x_i}$ is the direction obtained by moving along the $x_i$-axis, i.e. keep all other $x_j$ constant and increase $x_i$ at unit speed. Compare $\partial_x,\partial_y$ to $\partial_r,\partial_\theta$ as coordinates for $\bR^2$. The magnitude of $\partial_x$ and $\partial_y$ won't change as you move around in the $x,y$-plane, but the magnitude of $\partial_\theta$ will. Changing $\theta$ by unit speed far away from the origin involves moving much farther than it does near the origin.

\textbf{Warning:} The vector $\partial_{x_i}$ depends on \emph{all} of the $x_j$, e.g. if $y_1,...,y_n$ are local coordinates such that $y_i = x_i$ then it need not be true that $\partial_{y_i} = \partial_{x_i}$.

\begin{lem}
	Given two sets of local coordinates about $x_i$ and $y_i$ about $p$, we have
	\begin{align*}
		\frac{\partial}{\partial y_i} = \sum_j \frac{\partial x_j}{\partial y_i}(p) \cdot \frac{\partial}{\partial x_j},
	\end{align*}
	where $\frac{\partial x_j}{\partial y_j}$ comes from the transition function. This will be proved next lecture.
\end{lem}

\lecture{2021-10-16}{2022-03-19}
Last time, we discussed the map $\{\text{curves based at $p$}\} \to{\pi_p^\varphi} \bR^n$, which induces a bijection $T_pX \to{\pi_p^\varphi} \bR^n$ when we mod out by equivalence. 

\begin{lem}
	\begin{align*}
		\frac{\partial}{\partial y_i} = \sum_j \frac{\partial x_j}{\partial y_i} \frac{\partial}{\partial x_j}.
	\end{align*}
\end{lem}
\begin{prf}
	Let $\varphi_1$ and $\varphi_2$ be the charts defining $x$ and $y$. By definition $\partial_{y_i} = \left(\pi_p^{\varphi_2}\right)^{-1}(e_i).$ Let $A = D(\varphi_2\cdot \varphi_1^{-1})$ so $\pi_p^{\varphi_2} A\cdot \pi_p^{\varphi_1}$. Get that $\partial_{y_i} = \left(\pi_p^{\varphi_1}\right)^{-1} (A^{-1}e_i)$. Note $A^{-1} = D(\varphi_1 \circ \varphi_2^{-1})$ so $A^{-1}e_i = \sum_j \frac{\partial x_j}{\partial y_i}e_j$ so
	\begin{align*}
		\partial_{y_i} &= \left(\pi_p^{\varphi_1}\right)^{-1}\left(\sum_j \frac{\partial x_j}{\partial y_i} e_j\right) \\
					   &= \sum_j \frac{\partial x_j}{\partial y_i} (\pi_p^{\varphi_1})^{-1}(e_j).
	\end{align*}
	Since $\partial_{x_j} = (\pi_p^{\varphi_1})^{-1}e_j$, we are done.
\end{prf}
\begin{rmk}\label{rmk:1.39}
	If $[\gamma] = \sum a_i \partial_{x_i}$ then $(\varphi\circ \gamma)^\bullet(0) = \pi_p^{\varphi}(\gamma) = \sum a_i e_i$ (note the $i$th component of $(\varphi \circ \gamma)^\bullet(0)$ is $(x_i \circ \gamma)^\bullet(0)$).

	So $a_i = (x_i \circ \gamma)^\bullet(0)$.
\end{rmk}

\subsection{Derivatives} Fix manifolds $X,Y$ and a smooth map $F:X\to Y$.
\begin{defn}\label{defn:lec1.40}
	The \emph{derivative} of $F$ at $p$, denoted $D_pF$, is the map
	\begin{align*}
		T_pX \to T_{F(p)}Y, ~ [\gamma] \mapsto[]{} [F\circ \gamma].
	\end{align*}
	We sometimes write $D_pF$ as $F_*$, and call it the \emph{pushforward.}
\end{defn}
\begin{lem}\label{lem:1.41}
	The map $D_pF$ is well-defined and linear.
\end{lem}
\begin{prf}
	Fix charts $\varphi$ about $p$ and $\psi$ about $F(p)$. We then have
	\begin{align*}
		\pi^{\psi}_{F(p)}(F\circ \gamma) &= (\psi \circ F \circ \gamma)^\bullet(0) \\
										 &= [(\varphi\circ F\circ \varphi^{-1}) \circ (\varphi\circ \gamma)]^\bullet (0) \\
										 &= T\pi_p^{\varphi}(\gamma)
	\end{align*}
	where $T = D(\psi \circ F \circ \varphi^{-1})$. Thus, if $\gamma_1$ and $\gamma_2$ are two curves based at $p$ with $[\gamma_1] = [\gamma_2]$ then $[F\circ \gamma_1] = [F\circ \gamma_2]$. So $D_p F$ is well-defined, and it fits into the commutative diagram
	\begin{center}
		\begin{tikzcd}
			T_pX \arrow[r,"D_pF"] \arrow[d,"\pi_p^\varphi"]& T_{F(p)}Y \arrow[d, "\pi_{F(p)}^\psi"]\\
			R^{\dim X} \arrow[r, "T"] & \bR^{\dim Y}
		\end{tikzcd}
	\end{center}
	in which the vertical maps are isomorphisms. So $D_pF = \pi_{F(p)}^{-1} \circ T\circ \pi_p^\varphi$ is linear.
\end{prf}

\begin{rmk}\label{rmk:lec1.41}
	If $x,y$ are the local coordinates associated to the charts $\varphi, \psi$ then $\psi\circ F\circ \varphi^{-1}$ expresses $F$ as giving the $y$'s in terms of the $x$'s. In the diagram above, $T$ is the matrix $\left(\frac{\partial y_i}{\partial x_j}\right)_{ij}$. Hence,
	\begin{align*}
		D_p F(\partial_{x_i}) = \sum_j \frac{\partial y_j}{\partial x_i} \partial_{y_j}.
	\end{align*}
\end{rmk}

\begin{rmk}\label{rmk:lec1.42}
	$ $
	\begin{enumerate}[(i)]
		\item The new notion of derivative coincides with the new one for maps $F:\bR^n \to \bR^m$ by Remark (\ref{rmk:lec1.41})
		\item If $f$ is a function $X\to \bR$ then $Df (\partial_{x_i}) = \frac{\partial f}{\partial x_i}$.
		\item For a curve $\gamma$ based at $p$ we can write $[\gamma]$ as $D_0 \gamma(\partial_t)$ where $t$ is simply the standard coordinate on $\bR$.
	\end{enumerate}
\end{rmk}

As a final remark, the chain rule is now a tautology.
\begin{prop}\label{prop:chain-rule}
	For smooth maps $X\to{F}Y\to{G}Z$, we have
	\begin{align*}
		D_p(G\circ F) = D_{F(p)}G \circ D_{p}F.
	\end{align*}
\end{prop}
\begin{prf}
	For $[\gamma]$ in $T_pX$, both sides give $[G\circ F\circ \gamma]$.
\end{prf}

\section{Vector bundles and tensors}

\subsection{The tangent bundle}

Given a manifold $X$ and local coordinates $x_1,...,x_n$ on an open set $U \subseteq X$. If we have a tangent vector for a point in $U$ we may write it as a linear combination of $\partial_{x_1}, ...,\partial_{x_n}$. Write $a_1,...,a_n$ for the components of a tangent vector with respect to $\partial_{x_i}$.

This gives us coordinates
\begin{align*}
	(x_1,...,x_n,a_1,...,a_n): \sqcup_{p\in U} T_pX \to \bR^{2n}.
\end{align*}
Doing this for all coordinate patches defines a smooth pseudo-atlas on $TX := \sqcup_{p\in X} T_pX$. This space $TX$ inherits Hausdorffness and second-countability from $X$.

\begin{defn}\label{defn:tangent-bundle}
	The \emph{tangent bundle} of $X$ is $TX$ above equipped with the manifold structure given by the above pseudo-atlas.
\end{defn}
\begin{example}\label{example:lec2.2}
	Let $X = S^1 = \{e^{i\theta}\} \subseteq \bC = \bR^2$. The vector $\partial_{\theta}$ makes sense everywhere, it points around the circle with unit speed $1$ (i.e. $|\partial_\theta| = 1$). It forms a basis in each tangent space. We therefore get a diffeomorphism
	\begin{align*}
		TS^1 \to S^1 \times \bR, \hspace{2em} (p \in S^1, ~a\partial_\theta \in T_pS^1) \to (p,a).
	\end{align*}
\end{example}
Might be unclear why we would define this space, but one immediate reason is that it allows us to sensibly define vector fields.
\begin{defn}\label{defn:vector-field}
	A \emph{vector-field} on $X$ is a smooth map $v: X \to TX$ such that $v(p) \in T_pX$ for all $p$. Another way to phrase this is to say that $v$ is a \emph{section} of the projection $TX \to X$.
\end{defn}

\subsection{Vector Bundles}
\begin{defn}\label{defn:vector-bundle}
	A \emph{vector bundle} of $\rank k$ over a manifold $B$ is a manifold $E$ equipped with
	\begin{itemize}
		\item A smooth surjection $\pi: E\to B$
		\item An open cover $\{U_\alpha\}$ of $B$ and for each $\alpha$ a diffeomorphism $\Phi_\alpha: \pi^{-1}(U_\alpha) \to U_\alpha\times \bR^k$
	\end{itemize}
	such that
	\begin{enumerate}[(a)]
		\item $\pr_1\circ~\Phi_\alpha = \pi$
		\item For all $\alpha,\beta$ the map
			\begin{align*}
				\Phi_\beta\circ\Phi_\alpha^{-1}: (U_\alpha \cap U_\beta) \times \bR^k \to (U_\alpha \cap U_\beta) \times \bR^k
			\end{align*}
			is of the form $(p,x\in \bR^k) \mapsto (p,g_{\beta\alpha}(p)(x))$, where $g_{\alpha\beta}(p)$ is some matrix in being applied to $x$, for some smooth map
			\begin{align*}
				g_{\alpha\beta}:U_\alpha \cap U_\beta \to \GL(k,\bR).
			\end{align*}
	\end{enumerate}
	We say that
	\begin{itemize}
		\item the manifold $E$ is the \emph{total space},
		\item the manifold $B$ is the \emph{base space},
		\item the map $\pi$ is the \emph{projection},
		\item $\pi^{-1}(p)$ are the \emph{fibres} (denoted $E_p$),
		\item the maps $\Phi_\alpha$ are \emph{local trivializations} and
		\item the $g_{\alpha\beta}$ are called the transition functions.
	\end{itemize}
\end{defn}

\lecture{2021-10-19}{2022-03-21}

Recall from last time that a vector bundle over $B$ with atlas $\{U_\alpha\}$ is a smooth map $E\to{\pi} B$ such that
\begin{center}
	\begin{tikzcd}
		\pi^{-1}(U_\alpha) \arrow[dr, "\pi"] \arrow[r,"\Phi_\alpha"]& U_\alpha \times \bR^k \arrow[d,"\pr_1"] \\
																	& U_\alpha
	\end{tikzcd}
\end{center}
commutes, $\Phi_\alpha$ is a diffeomorphism and $\Phi_\beta \circ \Phi_\alpha^{-1}:(p,x) \mapsto (p,g_{\beta\alpha}(p)(x))$. Note that the commutativity of the above diagram for each $U_\alpha$ forces $\pi:E\to B$ to be smooth. Finally, $g_{\beta\alpha}:U_\alpha \cap U_\beta \to \GL(k,\bR)$ takes a point $p \in U_{\alpha}\cap U_\beta$ to a smooth automorphism of $\bR^k$. This map is about keeping track of the $\bR^k$ component of the trivialization between $\alpha$'s.

\begin{rmk}\label{rmk:lec2.5}
	Each fibre $E_p$ has the structure of a $k$-dimensional $\bR$-vector space via $\Phi_\alpha:E_p\to \{p\}\times \bR^k\to{\pr_2}\bR^k$.
\end{rmk}

\begin{rmk}\label{rmk:lec2.6}
	Really, each trivialization $\Phi_\alpha$ is like a chart, and the collection $\{\Phi_\alpha\}_{\alpha}$ is like an atlas. There's an obvious notion of equivalence between two collections, and only the equivalence class is part of the structure of the bundle (i.e. the equivalence class is the bit we care about).
\end{rmk}

\begin{rmk}\label{rmk:lec2.7}
	We can similarly define complex vector bundles where the fibres are complex vector spaces.
\end{rmk}
\begin{example}\label{example:lec2.8}
	Take $E = B\times \bR^k, \pi = \pr_1$, $\{U_\alpha\} = \{B\}$, $\Phi:E\to B\times \bR^k$ the obvious map. This is the \emph{trivial} vector bundle of rank $k$ over $B$, denoted by $\underline{\bR^k}$. The map $\Phi$ is a $\emph{global}$ trivialization.
\end{example}
\begin{example}\label{example:lec2.9}
	$TX$ is a rank $n$ vector bundle over $X$ where $n = \dim X$.
\end{example}
\begin{defn}\label{defn:section-of-bundle}
	A \emph{section} of a bundle $\pi:E\to B$ is a smooth map $s:B\to E$ such that $\pi\circ s = \id_B$.
\end{defn}
The above would be a \emph{global} section, one can similarly consider a \emph{local} section over an open set $U \subseteq B$.

\begin{example}\label{example:lec2.11}
	The \emph{zero section} is given by $s(p) = (p,0)$ for all $p \in B$.
\end{example}

\begin{example}\label{example:lec2.12}
	A vector field is a section of $TX$.
\end{example}

Jack includes a picture at this point in the lecture, appears at roughly 14:40. Illustrates that a section can look like an exact copy of $B$ inside $E$ \emph{or} can be "twisty" in some sense.

\begin{defn}\label{defn:morphism-vec-bundles}
	Given a smooth map $F:B_1\to B_2$ and vector bundles $\pi_iE_i \to B_i$ for $i = 1,2$, a \emph{morphism} of vector bundles $E_1 \to E_2$ \emph{covering} $F$ is a smooth map $G:E_1\to E_2$ such that
	\begin{itemize}
		\item $\pi\circ G = F\circ \pi$
		\item For all $p$ the induced map $(E_1)_p \to (E_2)_{F(p)}$ between the fibres of $p$ is linear.
	\end{itemize}
	An isomorphism between vector bundles over $B$ is a morphism covering $\id_B$ with a two sided inverse. A bundles isomorphic to a trivial bundle is called \emph{trivial}.
\end{defn}
Compare the above to the definition of a morphism between sheaves, especially by swapping ``fibre'' with ``stalk'' in the second item.

\begin{example}\label{example:lec2.14}
	Last time we saw that $TS^1$ is trivial:
	\begin{align*}
		TS^1 \to S^1\times \bR, \hspace{2em} (p,a\partial_\theta) \mapsto (p,a).
	\end{align*}
\end{example}
\begin{example}\label{example:lec2.15}
	A morphism $G:\underline{\bR}\to E$ (where $E\to B$ and $\underline{\bR}\to B$ are bundles over $B$) covering $\id_B$ is the same thing as a global section $s$.
    \begin{align*}
		G &\leadsto s(p) := G(p,1) \\
		s &\leadsto G(p,t) = ts(p)
    \end{align*}
	More generally, morphisms $\underline{\bR^k}\to E$ correspond to $k-tuples$ of sections. The morphism is an isomorphism if and only if the $k$-tuple forms a basis in each fibre.
\end{example}
\begin{defn}\label{defn:subbundle}
	Given a rank $k$ vector bundle $E$, a rank $\ell$ \emph{subbundle} is a submanifold $F \subseteq E$ such that $\forall p \in B$, there exists a trivialization $\Phi:\pi^{-1}_E(U) \to U\times \bR^k$ under which $\pi^{-1}_F(U)$ gets sent to $U\times (\bR^\ell \oplus 0)$.
\end{defn}
Once you have a subbundle one can define a quotient bundle $E/F$ which yields short exact sequences
\begin{align*}
	0 \to F\to E\to E/F \to 0.
\end{align*}

\subsection{Constructing Vector Bundles by Gluing}
To define a vector bundle over $B$, it's enough to give:
\begin{itemize}
	\item a set $E$
	\item a map $\pi :E\to B$
	\item an open cover $\{U_\alpha\}$ of $B$
	\item for each $\alpha$ a bijection $\pi^{-1}(U_\alpha) \to U_\alpha \times \bR^k$
\end{itemize}
such that $\pr_1\circ \Phi_\alpha = \pi$ and on overlaps $\Phi_\beta\circ \Phi_\alpha^{-1}:(p,x) \mapsto (p,g_{\beta\alpha}(p)(x))$ for some smooth $g_{\beta\alpha}:U_\alpha\cap U_\beta \to \GL(k,\bR)$.

Our pseudo-atlas construction then makes $E$ into a manifold and one can check that it is automatically Hausdorff and second-countable (presumably by pulling back opens such as $U_\alpha \times \bR^k$) and the $\Phi_\alpha$ then become the trivializations.

\begin{example}[Interesting vector bundle which isn't the tangent bundle]\label{example:lec2.17}
	Take $B = \bRP^n = \{\text{lines in $\bR^{n+1}$}\}/\text{linear equiv.}$. Let
	\begin{align*}
		E = \left\{(p,v) \in \bR^n \times \bR^{n+1}~\midd~ \text{$v$ lies in the line labelled by $p$}\right\} .
	\end{align*}
	Define $\pi:E\to B$ by $(p,v) \mapsto p$. We have an open cover given by homogeneous coordinates: 
	\begin{align*}
		\big\{U_i = \{[x_0:...:x_n] ~\mid~ x_i \neq 0\}\big\}_{i=0,...,n}.
	\end{align*}
	We now only need to define the trivializations.Let $\Phi_\alpha:\pi^{-1}(U_i) \to U_i \times \bR$ be the map $\big([x_0:...:x_n], \lambda x_i\big)$. We then have that 
	\begin{align*}
		\pr_1 \circ \Phi_i = \pi
	\end{align*}
	and
	\begin{align*}
		\Phi_j\circ \Phi_i^{-1}\big([x_0:...:x_n],t\big) = \big([x_0:...:x_n], \frac{tx_j}{x_i}\big).
	\end{align*}
    This is of the required form with $g_{ji}:U_i \cap U_j \to \GL(1,\bR) = \bR^\times$ where $[x_0:...:x_n]\mapsto \frac{x_j}{x_i}$. This is the \emph{tautological bundle} over $\bRP^n$.

    In fact, we can drop the set $E$ and just specify an open cover $\{U_\alpha\}$ of $B$ and smooth maps $g_{\beta\alpha}:U_\alpha \cap U_\beta \to GL(k,\bR)$ such that
    \begin{itemize}
	    \item $g_{\alpha\alpha}(p) = \id_{\bR^k}$ for all $\alpha, p$
	    \item for all $\alpha, \beta, \gamma$ we have $g_{\gamma\alpha} = g_{\gamma\beta}g_{\beta\alpha}$ on $U_\alpha \cap U_\beta \cap U_\gamma$. This is called the \emph{cocycle condition} (compare this to gluing sheaves).
    \end{itemize}
    We then define
	\begin{align*}
		E = \left.\coprod_\alpha U_\alpha \times \bR^k \middle/ \left(p \in U_\alpha, ~ x \in \bR^k\right)\sim \left(p \in U_\beta, ~ g_{\beta\alpha}(p)(x)\right)\right.
	\end{align*}
	The conditions above make this an equivalence relation.
\end{example}

\begin{example}\label{example:lec2.18}
	For any $r \in \bR$ can define a line bundle (rank 1 v.b) over $\bRP^n$ trivialized over the $U_i$ with $g_{ji} = \left(\frac{x_j}{x_i}\right)^{-r}$.
\end{example}
\begin{lem}\label{lem:lec2.19}
	If $\pi :E\to B$ is a rank $k$ vector bundle, trivialized over $\{U_\alpha\}$ with transition functions $g_{\beta\alpha}$, then it's isomorphic to the output of the above construction.
\end{lem}

\begin{cor}\label{cor:lec2.20}
	To show two bundles are isomorphic it suffices to find trivialization over the same open cover with the same transition functions.
\end{cor}

\lecture{2021-10-21}{2022-03-24}
\begin{defn}\label{defn:pullback-bundle}
	Given a bundle $\pi:E\to B$ and a smooth map $F:B'\to B$, then the \emph{pullback bundle} $F^*E$ has total space
	\begin{align*}
		E' = \coprod_{p \in B'} E_{F(p)}
	\end{align*}
	with the following bundle structure. Suppose $E$ is trivialized over $\{U_\alpha\}$ with transition functions $g_{\beta\alpha}$, then the pullback $F^*E$ is trivialized over $\{F^{-1}U_\alpha\}$ with transition functions $g_{\beta\alpha} \circ F$.
\end{defn}

\begin{defn}\label{defn:}
	The \emph{dual bundle} $E^\vee$ is the bundle over $B$ with total space
	\begin{align*}
		\coprod_{p \in B} (E_p)^\vee,
	\end{align*}
	trivialized over $\{U_\alpha\}$ with transition functions $(g_{\beta\alpha}^\vee)^{-1}$ (c.f. dual representation).
\end{defn}
\begin{example}\label{example:lec2.23}
	If $E$ is locally trivialized by smooth sections $s_1,...,s_k$ over $U \subseteq B$, then the fibrewise dual basis defines smooth sections $\sigma_1, ...,\sigma_k$ of $E^\vee$ over $U$ that trivialize it.
\end{example}

\subsection{The Cotangent Bundle}
Fix an $n$-manifold $X$.

\begin{defn}\label{defn:cotangent-bundle}
	The \emph{cotangent bundle} of $X$ is the dual of the tangent bundle, denoted $T^*X$. The fibre over a point $p \in X$ is $T^*_pX$, the \emph{cotangent space at $p$}. For clarity, note that $T^*_pX$ is simply the dual vector space of $T_pX$ and $T^*X$ is the disjoint union of all such fibres.
\end{defn}
This is quite algebraic right now -- we had a thing and we took the dual, so what? Turns out that there is a nice geometric interpretation of this object as well.

Consider
\begin{align*}
	\{\text{functions at $p$}\} = \left\{(U,f) ~ \midd ~ U ~\text{ is an open neighborhood of $p$, }~ f:U\to \bR \text{ smooth }\right\}.
\end{align*}
We say that $f_1$ and $f_2$ \emph{agree to first order} at $p$ if $D_pf_1 = D_pf_2$.
\begin{prop}\label{prop:lec2.25}
	There's a canonical isomorphism
	\begin{align*}
		\{\text{functions at $p$}\}/\sim \to T^*_pX.
	\end{align*}
\end{prop}
\begin{prf}
	There's a pairing
	\begin{align*}
		\{\text{functions at $p$}\} \times \{\text{curves based at $p$}\} \to \bR, ~ (f,\gamma) \mapsto (f\circ \gamma)^\bullet(0)
	\end{align*}
	given by composing our function with $\gamma$ and differentiating at $0$, the point at which the curve is equal to $p$. This induces a map
	\begin{align*}
		\theta: \{\text{functions at $p$}\} \to T^*_pX, ~ f\mapsto \big([\gamma] \mapsto (f\circ \gamma)^\bullet(0)\big)
	\end{align*}
	In coordinates, this map is
	\begin{align}\tag{$\ast$}
		f \mapsto \left(\sum a_i\partial_{x_i} ~\mapsto~ \sum_i a_i \frac{\partial f}{\partial_{x_i}}\middle |_p \right)
	\end{align}
	We want to show $\theta$ is surjective and that $\theta(f_1) = \theta(f_2)\iff f_1 \sim f_2$.

	\textbf{Surjective:} The coordinate functions $x_1,...,x_n$ are sent to the duals of the $\partial_{x_i}$:
	\begin{align*}
		\big(\theta(x_i)(\partial_{x_j}) = \delta_{ij}\big).
	\end{align*}
	Hence surjective.

	\textbf{Injective:} Observe that
	\begin{align*}
		\theta(f_1) = \theta(f_2) &\iff \frac{\partial f_1}{\partial x_i}\Big|_p = \frac{\partial f_2}{\partial x_i}\Big|_p ~ \text{ for all $i$} \\
								  &\iff D_p f_1 = D_p f_2 \\
								  &\iff f_1 \sim f_2.
	\end{align*}
\end{prf}
Notice that if $f:U\to \bR$ is a smooth function then by Proposition (\ref{prop:lec2.25}) $f$ defines an element of $T_p^*X$ for each $p \in U$.

\begin{lem}\label{lem:lec2.26}
	This defines a (smooth) section of $T^*X$ over $U$. We denote this by $df$.
\end{lem}
\begin{prf}
	We saw in the proof of surjectivity above that $dx_1,...,dx_n$ are fibrewise dual to $\frac{\partial}{\partial x_1}, ...,\frac{\partial}{\partial x_n}$. Hence (by Example (\ref{example:lec2.23})) $dx_1,...,dx_n$ is a smooth basis of sections. By ($\ast$), we get
	\begin{align*}
		df = \sum_i \frac{\partial f}{\partial x_i}dx_i
	\end{align*}
	and since $df$ is the sum of smooth functions, it too is smooth.
\end{prf}

\begin{lem}\label{lem:lec2.27}
	A section of $T^*X$ is called a \emph{1-form}. The 1-form $df$ is the \emph{differential} of $f$. By construction, $df(v) = \text{derivative of $f$ in the direction $v$}$.
\end{lem}

\begin{rmk}\label{rmk:lec2.28}
	Each $dx_i$ depends only on $x_i$ as opposed to the $\partial_{x_i}$, which potentially depend on all the $x_i$.
\end{rmk}

Now we wish to discuss how smooth functions act on cotangent spaces.

\begin{defn}\label{defn:pullback}
	Given a smooth map $F:X\to Y$, the map $D_pF^\vee:T_{F(p)}^* Y \to T_{p}^*X$ is called \emph{pullback} by $F$, and it is denoted by $F^*$.
\end{defn}
\begin{lem}\label{lem:lec2.30}
	If $g:Y\to \bR$ is a smooth function on $Y$, then
	\begin{align*}
		F^* dg = d(g\circ F).
	\end{align*}
\end{lem}
\begin{prf}
	Given a vector $[\gamma] \in T_pX$ we have
	\begin{align*}
		(F^*dg)([\gamma]) &= (dg)(D_pF([\gamma])) \\
						  &= (dg)([F\circ \gamma]) \\
						  &= (g\circ F\circ \gamma)^\bullet(0) \\
						  &= ((g\circ F)\circ \gamma)^\bullet (0) \\
						  &= d(g\circ F)([\gamma]).
	\end{align*}
\end{prf}

We've gone as far as we can without seeing a few facts from multilinear algebra.

\subsection{Multilinear Algebra}

Fix $U, V$ to be finite-dimensional vector spaces over some arbitrary field $\bK$.
\begin{defn}\label{defn:tensor-product}
	The \emph{tensor product} of $U$ and $V$, denoted $U\otimes V$ or $U\otimes_\bK V$, is a $\bK$-vector space generated by symbols $u\otimes v$ for $u \in U$ and $v \in V$ subject to the relations which impose bilinearity:
	\begin{itemize}
		\item $(\lambda_1u_1+\lambda_2u_2) \otimes v = \lambda_1(u_1\otimes v_1) + \lambda_2(u_2\otimes v_2)$
		\item $u\otimes (\mu_1v_1 + \mu_2v_2) = \mu_1(u_1\otimes v_1) + \mu_2(u\otimes v_2)$.
	\end{itemize}
\end{defn}
\begin{lem}\label{lem:lec2.32}
	If $e_1,...,e_m$ is a basis for $U$ and $f_1,...,f_n$ is a basis for $V$ then $e_i\otimes f_j$ form a basis for $U\otimes V$. So
	\begin{align*}
		\dim(U\otimes V) = (\dim U)\cdot (\dim V).
	\end{align*}
\end{lem}

\noindent\textbf{WARNING!} A general element of $U\otimes V$ is not of the form $u\otimes v$. It's a linear combination of such things.

\begin{lem}\label{lem:lec2.32}
	Tensor products are functorial in the following sense: if $\alpha:U\to U'$ and $\beta:V\to V'$ are linear, then there's a unique induced map $U\otimes V\to U'\otimes V'$ denoted $\alpha\otimes \beta$ defined by $(\alpha\otimes\beta)(u\otimes v) = \alpha(u)\otimes \beta(v)$ and extended linearly.
\end{lem}

\begin{lem}\label{lem:universal-property-tensor-products}
	A linear map $U\otimes V \to W$ is the same thing as giving a bilinear map $U\times V \to W$, each induces the other.
\end{lem}
\begin{example}\label{example:lec2.35}
	Fix $U,V,W$. Composition defines a bilinear map
	\begin{align*}
		\cL(V,W) \times \cL(U,V) \to \cL(U,W).
	\end{align*}
	Get an induced linear map
	\begin{align*}
		\cL(V,U) \otimes \cL(U,V) \to \cL(U,W), ~ \beta\otimes \alpha \mapsto \beta \circ \alpha.
	\end{align*}
	Now take $U = W = \bK$. Get $V^\vee \otimes V \to \bK$. This is called \emph{contraction}. Other tensor factors ``come along for the ride,'' eg
	\begin{align*}
		A\otimes V^\vee \otimes V\otimes B \to A\otimes \bK \otimes B = A\otimes B.
	\end{align*}
\end{example}

\lecture{2021-10-23}{2022-04-04}
Last time, we saw two interpretations of the cotangent bundle: as the dual of the tangent bundle and as the set of functions at $p$ up to linear equivalence. Can review this above.

We then began a crash course in multi-linear algebra.

\begin{defn}\label{defn:contraction}
	A \emph{contraction} is a linear map $V^\vee \otimes V \to \bK$ induced by a bilinear map $V^\vee \times V \to \bK$ defined $(\theta, v) \mapsto \theta(v)$. If $e_1,...,e_n$ is a basis for $V$ and $\epsilon_1,...,\epsilon_n$ is the dual basis then
	\begin{align*}
		\epsilon_i\otimes e_j \mapsto \delta_{ij}
	\end{align*}
	or
	\begin{align*}
		\sum \lambda_{ij}\epsilon_i\otimes e_j ~\mapsto ~ \sum_i \lambda_{ii}
	\end{align*}
	is the contraction.
\end{defn}
In the above, if I have some other thing tensored to $V^\vee\otimes V$ then it comes along for the ride; for example, $V^\vee \otimes V\otimes W \to \bK\otimes W = W$, so the contraction map does nothing to $W$.
\begin{defn}\label{defn:lec2.36}
	The \emph{tensor algebra} on $V$ is
	\begin{align*}
		TV :&= \bigoplus_{r = 0}^\infty V^{\otimes r} \\
		    &= \bK\oplus V \oplus (V\otimes V) \oplus ...
	\end{align*}
	This is a $\bK$-algebra with multiplication induced by
	\begin{align*}
		V^{\otimes r_1}\times V^{\otimes r_2} \to V^{\otimes(r_1+r_2)}, \hspace{1em} (P,Q) \mapsto P \otimes Q
	\end{align*}
	and then extended by distribution; e.g.
	\begin{align*}
		(\lambda + v_1\otimes v_2) \cdot v_3 = \lambda v_3 + v_1\otimes v_2\otimes v_3.
	\end{align*}
	This multiplication is associative, unital and non-commutative.
\end{defn}
\begin{defn}\label{defn:exterior-algebra}
	The \emph{exterior algebra} $\bigwedge^\bullet V$ or $\bigwedge V$ is the quotient of $TV$ by the two-sided ideal generated by elements of the form $v\otimes v$. It is the smallest subspace of $TV$ containing each $v \otimes v$ and closed under multiplication on both sides.
\end{defn}
The way to think about the exterior algebra is that whenever you see a repeated vector in a tensor, you set it to zero, e.g.
\begin{align*}
	v_1\otimes v_2 \otimes v_2\otimes v_3 \mapsto 0
\end{align*}
in the quotient $TV/\langle v\otimes v \rangle_{v \in V}$.

The exterior algebra is \textbf{associative, unital}. We write $\Lambda^r V$ for the image of $V^{\otimes r}$, called the $r$th exterior power of $V$, under the quotient map $TV \mapsto \Lambda^\bullet V$. This represents the ``signed $r$-dimensional volumes inside $V$''.

We write $\wedge$ for the product on $\bigwedge V$ induced by $\otimes$ on $TV$, e.g.
\begin{align*}
	v_1\otimes v_2 \mapsto v_1\wedge v_2.
\end{align*}
Note that 
\begin{align*}
	v \wedge v = 0, ~ \text{ for all } v \in V.
\end{align*}

\begin{lem}\label{lem:lec2.37}
	$\bigwedge V$ is graded-commutative, i.e. $P\wedge Q = (-1)^{rs}Q\wedge P$ for $P \in \bigwedge^r V,~ Q \in \bigwedge^s V$.
\end{lem}
\begin{prf}
	For $v,w\in V$ we have
	\begin{align*}
		0 
		&= (v + w) \wedge (v + w) = \cancel{v\wedge v} + v\wedge w + w\wedge v + \cancel{w\wedge w},
	\end{align*}
	so $v\wedge w = -w\wedge v$. This deals with $r = s = 1$. The general case follows by associativity, e.g.
	\begin{align*}
		(v_1\wedge v_2) \wedge (v_3 \wedge v_4 \wedge v_5)
	\end{align*}
	picks up $rs$ minus signs as we move the $v_2$ to the right (it picks up three minus signs above) and then the $v_1$ to the right.
\end{prf}
\begin{defn}\label{defn:lec2.38}
	By a multi-index $I$, we mean a tuple $(i_1,...,i_r)$ of elements in $\{1,...,n\}$ in strictly increasing order. For a basis $e_1,...,e_n$ of $V$, write $e_I$ for the wedge product $e_{i_1}\wedge ... e_{i_r}$. Note that permuting the $i_j$ gives us an element which only possibly differs by a minus sign, so the requirement that $(i_1,...,i_r)$ appear in strictly increasing order is simply a convention.

	Similarly, write $\epsilon_I = \epsilon_{i_1}\wedge ... \wedge \epsilon_{i_r}$ for the dual basis $\epsilon_1,...,\epsilon_n$.
\end{defn}
\begin{lem}\label{lem:lec2.39}
	The elements $e_I$, where $I$ ranges over the multi-indices of length $r$, form a basis for $\bigwedge^r V$. So
	\begin{align*}
		\dim \bigwedge^r V = \binom{n}{r}.
	\end{align*}
	Note that this means $\bigwedge^r V = 0$ for $r > n$.
\end{lem}

\begin{lem}\label{lem:lec2.40}
	There's a natural isomorphism
	\begin{align*}
		\left(\bigwedge^r V\right)^\vee = \bigwedge^r(V^\vee)
	\end{align*}
	induced by the pairing $\bigwedge^r(V^\vee) \times \bigwedge^rV \to \bK$
	\begin{align*}
		\big(\theta_1\wedge...\wedge\theta_r,v_1\wedge...\wedge v_r\big) \mapsto \sum_{\sigma \in S_r} \sgn(\sigma) \theta_{\sigma(1)}(v_1)...\theta_{\sigma(r)}(v_r).
	\end{align*}
\end{lem}
Note that $e_I$ becomes dual to $\epsilon_I$ under this pairing.
\begin{lem}\label{lem:lec2.41}
	$\bigwedge^r$ is functorial, i.e. for any linear map $\alpha:V\to W$ we get $\bigwedge^r V\to \bigwedge^r W$ defined $v_1\wedge...\wedge v_n \mapsto \alpha(v_1) \wedge...\wedge \alpha(v_n)$.

	E.g. $\bigwedge^n V$ is 1-dimensional and $\bigwedge^n V \to \bigwedge^n V$ is the scalar $\det(\alpha)$.
\end{lem}

\subsection{Tensors and Forms}

Just as for the dual bundle, you can upgrade functorial algebraic operations from vector spaces to vector bundles.

\begin{example}\label{example:lec2.42}
	Suppose we are given vector bundles $E,F \to B$ trivialized over $\{U_\alpha\}$ with transition functions $g_{\beta\alpha}, h_{\beta\alpha}$ respectively. Then $E\oplus F$ is the bundle over $B$ with fibre $E_p\oplus F_p$ over $p$, and transition functions $g_{\beta\alpha}\oplus h_{\beta\alpha}:U\alpha\cap U_\beta\to \GL(\rank E,\bR) \times \GL(\rank F,\bR)$. This function is given by the block diagonal matrix
	\begin{align*}
		\left(
		\begin{array}{c|c}
			g_{\beta\alpha} & 0 \\
			\hline
			0 & h_{\beta\alpha}
		\end{array}. \right)
	\end{align*}
	Can similarly define $E\otimes F,$ $E^{\otimes r}$, $\bigwedge^r E$.
\end{example}
\begin{example}\label{example:lec2.43}
	Given a smooth map $F:X\to Y$, $DF$ is naturally a section of $T^*X\otimes F^*TY$. For each $p \in X$, have
	\begin{align*}
		T^*X\otimes F^*TY)_p = (T_pX)^\vee \otimes T_{F(p) Y} = \cL\left(T_pX,T_{F(p)}Y\right).
	\end{align*}
	(Proven on Example Sheet 2)
\end{example}
\begin{defn}\label{defn:lec2.44}
	A \emph{tensor} (\emph{field}) of \emph{type} $(p,q)$ is a section of $TX^{\otimes p}\otimes T^*X^{\otimes q}$. An $r$-form is a section of $\bigwedge^r T^*X$. Notice that this coincides with our earlier definition of a 1-form, which was a section of the cotangent bundle itself, which is the same as $\bigwedge^1T^*X$.
\end{defn}
\begin{example}\label{example:lec2.45}
	A tensor of type $(0,0)$ is a section of $\underline{\bR}$, i.e. a smooth function (or scalar field). A tensor of type $(1,0)$ is a vector field. Type $(0,1)$ is a 1-form.
\end{example}

In coordinates $x_1,...,x_n$, an $r$-form looks like
\begin{align*}
	\sum_{I}\alpha_I dx_{i_1} \wedge...\wedge dx_{i_r} = \sum_{I}\alpha_Idx_I
\end{align*}
where the $\alpha_I$ are smooth functions. One can view this as a tensor of type $(0,r)$ via $dx_{i_1}\wedge ... \wedge dx_{i_r} \mapsto \sum_{\sigma \in S}\sgn(\sigma)\cdot dx_{i_{\sigma(1)}} \otimes ...\otimes dx_{i_{\sigma(r)}}$.

\begin{example}\label{example:lec2.46}
	On $\bR^2$, a 2-form looks like $f~dx\wedge dy$ for smooth functions $f$. We can view this as $f\cdot(dx\otimes dy - dy\otimes dx)$.
\end{example}

\textbf{WARNING!} Some authors divide by $r!$ in the above expression.
\end{document}






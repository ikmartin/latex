\input{../preamble.tex}

\begin{document}
\pagestyle{empty}
	\LARGE
\begin{center}
	Toric Geometry: Example Sheet 1 \\
	\Large
	Isaac Martin \\
    Last compiled \today
\end{center}
\normalsize
\vspace{-2mm}
\hru
\tchap{Theory Problems}
\begin{homework}[e]
	\prob Given a cone $\sigma \subseteq N_\bR$ prove that the double dual recovers the original cone:
	\begin{align*}
		(\sigma^{\vee})^{\vee} = \sigma.
	\end{align*}
	\emph{This justifies the use of the word "dual"}.
	\begin{prf}
		We provide two solutions to this problem.

		\textbf{(1)} This is a rather inelegant solution which makes use of the identifications $V\cong V^\vee \cong (V^{\vee})^{\vee}$ in the case that $V$ is a finite dimensional vector space. It nonetheless reflects how one typically thinks of the dual cone $\sigma^{\vee}$ geometrically.

		Recall that for any field $K$ and any $K$-vector space $V$ of dimension $n < \infty$, we can find a non-canonical isomorphism  $V \cong V^\vee$. One typically constructs such an isomorphism as follows.

		First, fix a basis $\{e_1, ...,e_n\}$ for $V$ and define $e^{\vee}_i$ to be the $K$-linear functional $e^{\vee}_i\left(\sum_{i=1}^n a_i e_i\right) = a_i$. It is straightforward to check that $\{e^{\vee}_1,...,e_n^{\vee}\}$ forms a basis for the dual space $V^{\vee}.$ We may similarly define the basis $\{e_1^{\vee \vee},...,e_n^{\vee \vee}\}$ of the double dual $V^{\vee\vee}$.

		The pairing $\langle -,-\rangle:V^{\vee}\times V\to K$ appearing in the definition of $\sigma^{\vee}$ is the bilinear map defined $\langle \lambda,v\rangle = \lambda(v)$. Adopting the above notation in the case that $V = N_\bR$, we see that this pairing is simply the standard Euclidean inner product. Indeed, letting $\{e_i\}$ denote the standard basis on $\bR^n \cong N_\bR$, given any $v \in N_\bR$ and $m \in M_\bR$ and choosing $a_i \in \bR$ and $b_i \in \bR$ such that $v = \sum a_i e_i$ and $m = \sum b_i e^{\vee}_i$, we see that
		\begin{align*}
			\langle m,v\rangle &= m(v) \\
							   &= (b_1e^{\vee}_1 + ... + b_ne^{\vee}_n)(v) \\
							   &= b_1e^{\vee}_1(v) + ... + b_ne^{\vee}_n(v) \\
							   &= b_1 \cdot a_1 + ... + b_1 \cdot a_1.
		\end{align*}
		By identifying $N_\bR$ and $M_\bR$ via $e_i \leftrightarrow e_i^{\vee}$, we may in fact \emph{define} $\langle m,v\rangle$ to be the Euclidean inner product. This is useful because the Euclidean inner product is symmetric, i.e. $\langle m,v\rangle = \langle v,m\rangle$. By further identifying $\Hom_\bR\left(M_\bR,\bR\right) = M_\bR^{\vee}$ with $N_\bR$ and $M_\bR$ by $e_i \leftrightarrow e_i^{\vee} \leftrightarrow e_i^{\vee\vee}$, we see that for $v \in M_\bR^{\vee}$ and $m \in M_\bR$,
		\begin{align*}
			\langle v,m\rangle \geq 0 &\iff \langle m,v\rangle \geq \iff \langle m,v'\rangle \geq 0
		\end{align*}
		where $v'$ is the unique element in $N_\bR$ corresponding to $v \in M_\bR^{\vee}$. Thus, under these identifications, we quite literally have that $\left(\sigma^{\vee}\right)^{\vee} = \sigma$.

		\bigskip
		
		\textbf{(2)} After reading Fulton more closely, I realized that it is perhaps more natural to define $\left(\sigma^{\vee}\right)^{\vee}$ to be a subset of $\sigma$ rather than a subset of $\Hom_\bR(M_\bR,\bR)$. Given a subset $A \subseteq M_\bR$, we first define the \emph{predual} cone $A^{\vee} \subseteq N_\bR$ of $A$ to be
		\begin{align*}
			A^{\vee} = \left\{v \in N_\bR \midd \lambda(v) \geq 0, \text{ for all } \lambda \in A\right\},
		\end{align*}
		and then define the double dual $\left(\sigma^{\vee}\right)^{\vee}$ to be the predual cone of $\sigma^{\vee}$. Showing that $\left(\sigma^{\vee}\right)^{\vee} = \sigma$ is therefore equivalent to showing that for any $v_0 \in N_\bR \setminus\sigma$, there is some $\lambda \in \sigma^{\vee}$ such that $\lambda(v_0) < 0$.

		To do this, we use a version of the Hahn-Banach theorem I came across on Wikipedia. I'm not entirely sure this works, as I'm taking for granted that $N_\bR \cong \bR^n$ as a \emph{topological} vector space. Here is the theorem:
		\begin{thm}\label{thm:Hahn-Banach}
			Let $A$ and $B$ be non-empty convex subsets of a real locally convex topological vector space $X$. If $\Int(A) \neq \emptyset$ and $B \cap \Int(A) = \emptyset$, then there exists a continuous linear functional $f:X\to \bR$ such that $\sup f(A) \leq \inf f(B)$ and $|f(a)| < \inf f(B)$ for all $a \in \Int(A)$. 
		\end{thm}
		
		Let $v_0$ be any element of $N_\bR$ not in $\sigma$. Let $A$ be an open ball centered at $v_0$ such that $A \cap \sigma = \emptyset$. This exists because $\sigma$ is a closed subset of $N_\bR$ which does not contain $v_0$, meaning the distance from $v_0$ to $\sigma$ is positive. By Hahn-Banach, there exists a linear functional $\lambda \in M_\bR$ such that $\lambda(v_0) < M = \inf \lambda(B)$. We show that $M = v_0$, hence $\lambda \in \sigma^{\vee}$.

		We must have that $M \leq 0$ since $\lambda(0) = 0$ and $0 \in \sigma$. If $M < 0$, then there would necessarily be some $x \in \sigma$ such that $\lambda(x) < 0$. Assuming this to be the case, set $a = \frac{2\lambda(v_0)}{\lambda(x)}$, noting that $a > 0$ since $\lambda(x), \lambda(v_0) < 0$. This means that $a x \in \sigma$. However, recalling that $\lambda(v_0) < 0$, we have that
		\begin{align*}
			\lambda(ax) = a\lambda(x) = 2\lambda(v_0) < \lambda(v_0),
		\end{align*}
		which is impossible since $\lambda(v_0) < \lambda(u)$ for all $u \in \sigma$. Hence, by contradiction, $M = 0$ and $\lambda$ is nonnegative on all of $\sigma$. This means $\lambda \in \sigma^{\vee}$, so we are done.

		\bigskip

		I sincerely hope there is another proof besides the two provided here. The first feels highly unnatural and the second seems non-trivial. Given that both Cox-Little-Schneck and Fulton omit a proof of this fact in their book and that neither includes this problem as an exercise, I expect there exists a more natural, obvious proof of this fact that I am missing.
	\end{prf}
	\prob Given a cone $\sigma \subseteq N_\bR$ prove that $\sigma$ is full-dimensional if and only if $\sigma^{\vee}$ is strictly convex.
	\begin{prf}
		Recall that a cone $\sigma$ is said to be strictly convex if it does not contain a line. It turns out that it suffices to require that it does not contain a line through the origin, i.e. a one-dimensional subspace:
		 \begin{lem}\label{lem:strictly-convex-no-line-through-origin}
			A rational polyhedral cone $\sigma$ is strictly convex if and only if it does not contain a line through the origin.
		\end{lem}
        \begin{proof}
        	The forward implication is clear. Suppose then that $\sigma$ is not strictly convex and contains the line $\ell: v_0 + tv$. For any  $m \in \sigma^\vee$ we have $m(v_0 + tv) \geq 0$ for all $t \in \bR$. Since $m(v_0 + tv) = m(v_0)+tm(v)$, this implies that $-tm(v) \leq m(v_0)$ for all $t \in \bR$. However, $m(v)$ and $m(v_0)$ are constants, so the only way this is possible is if $m(v) = m(v_0) = 0$. Thus $m(tv) = 0$ for all $m \in \sigma^\vee$ and $t \in \bR$, and therefore $tv \in \left(\sigma^\vee\right)^\vee = \sigma$. 
        \end{proof}

		\noindent We now proceed to the main problem.

		($\impliedby$) Suppose that $\sigma$ is not full-dimensional. Then $\sigma$ is contained in a hyperplane $V\subsetneq N_\bR$, and $V^{\perp}$ is a one-dimensional subspace. For any $u \in V^{\perp}$ and any $v \in \sigma$, we have that
		\begin{align*}
			\langle u,v\rangle = 0,
		\end{align*}
		and thus $u \in \sigma^\perp$. This implies that $\sigma^\vee$ contains a copy of $V^\perp$ and hence is not strictly convex. 

		\bigskip

		($\implies$) Suppose now that $\sigma$ is full dimensional, so $\sigma + (-\sigma) = N_\bR$. Fix some $m\in \sigma^\vee$ such that $m \neq 0$, and thus $\dim(\ker m) < \dim(N_\bR)$. The smallest subspace of $N_\bR$ containing $\sigma$ is $N_\bR$ itself, hence $\sigma \setminus \ker m$ is nonempty. 

		Fix some $v \in \sigma \setminus \ker m$, noting that $v \neq 0$. Since $m(v) \geq 0$ and $m(v) \neq 0$, we must have that $m(v) > 0$ and $-m(v) < 0$. The element $-m\in M_\bR$  lies on the line spanned by $m$ but is not strictly nonnegative on $\sigma$; therefore, $\sigma ^{\vee}$ does not contain the line spanned by $m$. Since $m$ was chosen arbitrarily, $\sigma^{\vee}$ contains no line through the origin and so $\sigma^\vee$ is strictly convex by Lemma (\ref{lem:strictly-convex-no-line-through-origin}).
	\end{prf}
	\prob Let $\Sigma$ and $\Sigma'$ be fans in vector spaces $N_\bR$ and $N_\bR'$. Work out for yourself the correct definition of the product fan $\Sigma\times \Sigma'$ in $N_\bR \oplus N_\bR'$. Show that there is a natural isomorphism:
	\begin{align*}
		X_{\Sigma\times \Sigma'} \cong X_\Sigma \times_{\Spec \bC} X_{\Sigma'}.
	\end{align*}
	Slogan: ``The construction of a toric variety from a fan commutes with products.''

	\prob In lectures, we claimed that the toric variety $X_\sigma$ is smooth if and only if $\sigma$ is generated by a subset of a $\bZ$-basis for $N$. Complete the proof of this statement. Give an example to show that if $\sigma$ is generated by a subset of a $\bQ-basis$ then $X_\sigma$ need not be smooth.
	
	\prob Let $X$ be a \emph{not-necessarily-normal} toric variety with dense torus $T$. Recall that we partitioned the lattice $N = \Hom_{\AlgGrp}(\bC^*, T)$ of $T$ based on the limits of one-parameter subgroups of $T$ inside $X$. If $X$ were normal, this would give the fan of $X$ and therefore determine $X$ uniquely. Give examples to show that, without the normality assumption, this data does not uniquely determine $X$. 
	\prob[\textsc{Problem 6}] Let $S \subseteq M$ be an affine semigroup. The \emph{saturation} of $S$ is defined to be:
	\begin{align*}
		S^{\sat} = \{m \in M ~ : ~ cm \in S \text{ for some } c\in\bZ _{\geq 1}\}.
	\end{align*}
	Clearly $S^{\sat}$ is saturated, and $S$ is saturated if and only if $S = S^{\sat}$. Consider the inclusion
	\begin{align*}
		\bC[S] \subseteq \bC[S^{\sat}].
	\end{align*}
	Look up ``integral closure'' of an integral domain, and prove that $\bC[S^{\sat}]$ is the integral closure of $\bC[S]$. The dual morphism is known as the normalization of $\Spec \bC[S]$. In each of the following examples, write down equations in affine space for both $\Spec \bC[S]$ and its normalization $\Spec \bC[S^{\sat}]$, and study the morphism between them:
	\begin{enumerate}[(a)]
		\item $S = 2\bN + 3\bN \subseteq \bZ$, 
		\item $S = (1,1)\bN + (1,0)\bN + (0,2)\bN \subseteq \bZ^{2}$.
	\end{enumerate}
	\begin{prf}
		Recall from class (or Cox-Little-Schenck Theorem 1.3.5) that since $S^{\sat}$ is saturated, $\bC[S^{\sat}]$ is integrally closed. The integral closure of a domain $R$ is the smallest integrally closed subring $R' \subseteq \Frac(R)$ such that $R \subseteq R'$, and because $\bC[S] \subseteq \bC[S^{sat}]$, we need only show that every element of $\bC[S^{\sat}]$is integral over $\bC[S]$. 

		Certainly an element $a z^m \in \bC[S^{\sat}]$ where $a \in \bC[S]$ is integral over $\bC[S]$, since
		\begin{align*}
			az^m \in \bC[S^{\sat}] &\implies m \in S^{\sat} \implies cm \in S \text{ for some } c \in \bZ_{\geq 1} \\
			&\implies (az^m)^c = a^cz^{cm} \in \bC[S] \implies f(x) = x^c - a^cz^{cm} \in \bC[S][x] \text{ vanishes at } az^m.
		\end{align*}
		But then an arbitrary element $\sum a_i z^{m_i}$ of $\bC[S^{\sat}]$ is simply a sum of elements integral over $\bC[S]$ and is therefore itself integral over $\bC[S]$. If this argument is unsatisfactory, write $A = \bC[S]$ and instead consider the chain of inclusions
		\begin{align*}
			A \hookrightarrow A\left[z_1^{m_1}\right] \hookrightarrow A\left[z_1^{m_1},z_2^{m_2}\right] \hookrightarrow ... \hookrightarrow A\left[z_1^{m_1},...,z_k^{m_k}\right].
		\end{align*}
		The ring $A[z_i^{m_i}]$ is finitely generated as an $A$-module for each $1\leq i\leq k$ since $z_i^{m_i}$ is integral over $A$, hence $A[z_1^{m_1},...,z_i^{m_i}]$ is also finitely generated as an $A$ -module by the transitivity of finite generation.
        
		Let's compute some examples.
		\begin{enumerate}[(a)]
			\item We get that $S^{\sat} = \bN$ since $2k \in S$ for any $k \in \bN$. We also have that $\bC[S] = \bC[t^2,t^3] \cong \bC[x,y]/(x^3-y^2)$ and $\bC[S^{\sat} ] = \bC[t]$, so the inclusion $\bC[S] \hookrightarrow \bC[S^{}]$ induces a projection  $\bA^1_\bC \to \Spec \left(\bC[x,y]/(x^3-y^2)\right)$ from the affine line to the singular cubic $y^2 = x^3$. 
		\end{enumerate}
        \textbf{TODO: FINISH WRITE UP OF (a) AND DO PART (b)} 
	\end{prf}
\end{homework}
	
\tchap{Practice Problems}
\begin{homework}[e]
	\prob First problem
	\prob[\textsc{Exercise 10}]
\end{homework}
\end{document}

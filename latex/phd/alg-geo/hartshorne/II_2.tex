\input{tufte_preamble.tex}

\title[Solutions to Algebraic Geometry by Robin Hartshorne]{\setlength{\parindent}{0pt}Solutions \\to \\Hartshorne} % Title of the book
\author{Isaac Martin} % Author
\date{Fall 2023}

\begin{document}

\maketitle
\tableofcontents % Print the table of contents

%----------------------------------------------------------------------------------------

%\listoffigures % Print a list of figures

%----------------------------------------------------------------------------------------

%\listoftables % Print a list of tables

\setcounter{chapter}{1}
\chapter{Schemes}
\section{Schemes}
\begin{problemset}	
	\item[\textsc{Exercise 2.7.}] Let $X$ be a scheme. For any $x \in X$, let $\cO_x$ be the local ring at $x$, and $\frakm_x$ its maximal ideal. We define the \emph{residue field} of $x$ on $X$ to be the field $k(x) = \cO_x/\frakm_x$. Now let $K$ be any field. Show that to give a morphism of $\Spec K$ to $X$ it is equivalent to give a point $x \in X$ and an inclusion map $k(x) \to K$.
	\begin{proof}
		Suppose first that we have a map $f:\Spec K \to X$. Topologically, this is determined solely by choosing an image $x\in f(P)$ for the sole point $P\in \Spec K$. Sheaf theoretically, this consists of a map $f^\sharp:\cO_X \to f_*\cO_K$ (by $\cO_K$ we mean $\cO_{\Spec K}$). This induces a local ring map on the stalk at $P$: $f^\sharp_P:\cO_{X,x}\to (f_*\cO_{K})_P = K$, meaning that the maximal ideal $\frakm_x$ in $\cO_{X,x}$ is sent to the maximal ideal $(0) \subseteq K$, meaning that $\frakm_x = \ker f^\sharp_P$. This in turn implies that $f^{\sharp}_P$ factors through the quotient $\pi:\cO_{X,x} \mapsto k(x) = \cO_{X,x}/\frakm_x$ and hence induces a map $k(x) \to K$. This map is necessarily an inclusion since every ring homomorphism of fields is injective.

		Now suppose we have an injection $p:k(x) \hookrightarrow K$. We can then define a map $f^\sharp_x:\cO_{X,x}\to K$ by $f^{\sharp} = p\circ \pi$, where $\pi:\cO_{X,x}\to k(x)$ is the quotient map. This is precisely a map on between the stalks $\cO_{X,x}$ and $\cO_{K,P}$. If we define $f:\Spec K\to X$ by $P\mapsto x$ and $f^\sharp(U):\cO_X(U) \to f_*\cO_K(U) = K$ by $f^\sharp(U) = f^{\sharp}_x \circ \iota$ where $\iota:\cO_X(U) \to \cO_{X,x}$ is the natural localization map, then $(f,f^\sharp)$ is a map of schemes. Note that for any open set $U \subseteq X$ not containing $x$ the map $f^\sharp:\cO_X(U)\to f_*\cO_K(U)$ is necessarily the zero map, since $f_*\cO_K(U) = \cO_K(f^{-1}(U)) = \cO_K(\emptyset) = 0$.
	\end{proof}
	\item[\textsc{Exercise 2.11.}] Let $k = \bF_p$ be the finite field with $p$ elements. Describe $\Spec k[x]$. What are the residue fields of its points? How many points are there with a given residue field?
	\begin{proof}
		The ring $k[x]$ is a PID since $k$ is a field, so the prime ideals are all principally generated by irreducible polynomials $f \in k[x]$.
	\end{proof}
	\item[\textsc{Exercise 2.18.}]$ $
	\begin{enumerate}[(a)]
		\item Let $A$ be a ring, $X = \Spec A$ $f \in A$. Show that $f$ is nilpotent if and only if $D(f)$ is empty.
		\item Let $\varphi:A\to B$ be a ring homomorphism and let $f:\Spec B\to \Spec A$ be the induced morphism of affine schemes. Show that $\varphi$ is injective if and only if the map of sehaves $f^\sharp:\cO_X \to f_*\cO_X$ is injective. Show furthermore in that case $f$ is \emph{dominant}, i.e. $f(\Spec B)$ is dense in $X$.
	\end{enumerate}
	\begin{proof}
		\begin{enumerate}[(a)]
			\item Recall that the nilradical of any ring is equal to the intersection of all its prime ideals. Therefore
				\begin{align*}
					f \text{ is nilpotent } \iff f \in \bigcap_{\frakp \in \Spec A} \frakp \iff V(f) = \Spec A \iff D(f) = \emptyset.
				\end{align*}
			\item Note first that if $f^\sharp:\cO_{\Spec A}\to f_*\cO_{\Spec B}$ is injective then it is injective on global sections and hence $\varphi = f^\sharp(\Spec A): A\to B$ is injective. Suppose instead that $f^\sharp$ is not injective, so that there is some $U\subseteq \Spec A$ such that $f^\sharp(U):\cO_{\Spec A}(U) \to \cO_{\Spec(B)}(f^{-1}(U))$ which is not an injective ring homomorphism. By taking $f\in A$ such that $D(f) \subseteq U$ (which exists since the sets $D(f)$ are basic opens) we can assume that $U = D(f)$. In this case, the map $f^\sharp(D(f))$ is the map $\varphi_f:A_f \to B_{\varphi(f)}$. If this is not injective, then there is some $n\in \bN$ such that $\varphi(f^n)\varphi(a) = 0\implies \varphi(f^n\cdot a) = 0$ such that $f^na\neq 0$, and hence $\varphi$ is not injective.

				Suppose now that $\varphi:A\to B$ is injective. The map $f$ is dominant if and only if $f(\Spec B)$ has nontrivial intersection with every (nonempty) basic open $D(f)$. Fix then a nonempty $D(f)$, which by part (a) means $f$ is not nilpotent. Localizing at $f$ yields a map $\varphi_f:A_f \to B_{\varphi(f)}$. Pulling back a maximal ideal $\frakm \in \Spec B_{\varphi(f)}$ by $\varphi_f$ yields a prime ideal in $\frakp$ in $A_f$, and then by the correspondence between $\Spec A_f$ and primes in $\Spec A$ which do not contain $f$, we get that $f(\frakm) = \varphi^{-1}(\frakm) = \frakp \in D(f)$. Hence the image of $f$ is dense in $\Spec A$.
		\end{enumerate}
	\end{proof}
\end{problemset}
\end{document}

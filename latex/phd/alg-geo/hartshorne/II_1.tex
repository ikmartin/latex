\input{tufte_preamble.tex}

\title[Solutions to Algebraic Geometry by Robin Hartshorne]{\setlength{\parindent}{0pt}Solutions \\to \\Hartshorne} % Title of the book
\author{Isaac Martin} % Author
\date{Fall 2023}

\begin{document}

\maketitle
\tableofcontents % Print the table of contents

%----------------------------------------------------------------------------------------

%\listoffigures % Print a list of figures

%----------------------------------------------------------------------------------------

%\listoftables % Print a list of tables

\setcounter{chapter}{1}
\chapter{Schemes}
\section{Sheaves}

\begin{problemset}
	\item Let $A$ be an abelian group and defined the \emph{constant presheaf} associated to $A$ on the topological space $X$ to be the preshseaf $U\mapsto A$ for all $U\neq \emptyset$, with restriction maps the identity. Show that the constant sheaf $\cA$ defined in the text is the sheaf associated to this presheaf.
	\begin{proof}
		Let $\cC$ be the constant sheaf on $X$, i.e. the sheaf defined as follows: for any open $U\subseteq X$, $\cC(U)$ is the group of all continuous maps of $U$ into $A$ (where $A$ is endowed with the discrete topology). Let $\cG$ be any other sheaf on $X$.

		Define $\theta:\cF\to \cC$ as follows. For an open set $U$, let $\theta(U):\cF(U) = A\to \cC(U)A$ send a point $a \in A$ to the constant map $(x \mapsto a)\in \cC(U)$.

		Now suppose we have some morphism $\alpha:\cF\to \cG$. We would like to define $\beta:\cC\to \cG$ such that $\beta\circ\theta = \alpha$.

		Fix an open subset $U \subseteq X$ and a section $f:U\to A$ of $\cC(U)$. Notice that $\{f^{-1}(a)\}_{a\in A}$ is an open cover of $U$ and $f|_{f^{-1}(a)} = (x\mapsto a) = \theta(U)(a)$ for all $a \in A$. Consider the collection $\{\alpha(U)(a)\}_{a\in A}$ of sections in $\cG(U)$. These satisfy the gluing compatibility condition, namely
		\begin{align*}
			\alpha(U)(a)|_{f^{-1}(a)\cap f^{-1}(b)} = \alpha(U)(b)|_{f^{-1}(a)\cap f^{-1}(b)}
		\end{align*}
		and hence there is some element $g_f \in \cG(U)$ such that $g_f|_{f^{-1}(a)} = \alpha(U)(a)|_{f^{-1}(a)}$ for all $a \in A$. We simply define $\beta(U)(f) = g_f$ to obtain a map $\beta(U):\cC(U)\to \cG(U)$. This satisfies the restriction requirements and hence $\beta$ is a map of schemes. Furthermore, if $f = \theta(U)(a)$ for some $a \in A$, then $f$ is the constant map $x \mapsto a$ and hence $f^{-1}(a) = U$, so $\beta(f) = \alpha(U)(a)$. This shows that $\alpha = \beta\circ \theta$, meaning $\cC$ satisfies the universal property of the sheaf associated to $\cF$.
	\end{proof}
\item\label{prob:2_1_2} $ $
	\begin{enumerate}[(a)]
		\item For any morphism of sheaves $\varphi:\cF\to \cG$ show that for each point $P$, $(\ker\varphi)_P = \ker(\varphi_P)$ and $(\im\varphi)_P = \im(\varphi_P)$
		\item Show that $\varphi$ is injective (respectively, surjective) if and only if the induced map on the stalks $\varphi_P$ is injective (respectively, surjective) for all $P$.
		\item Show that a sequence $...\to \cF^{i-1}\xrightarrow{\varphi^{i-1}} \cF^i \xrightarrow{\varphi^i}\cF^{i+1}\to ...$ of sheaves and morphisms is exact if and only if for each $P\in X$ the corresponding sequence of stalks is exact as a sequence of abelian groups.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item Recall that for any $V\subseteq X$ containing a point $P$ we have the diagram
				\begin{center}
					\begin{tikzcd}
						\cF(V) \arrow[r,"\varphi(V)"] \arrow[d,"\pi"]& \cG(V) \arrow[d,"\pi"] \\
						\cF_P \arrow[r,"\varphi_P"]&\cG_P
					\end{tikzcd}
				\end{center}
				Start with an element $(t,V) \in \ker (\varphi_P)$. Then $t$ is a section of $\cF(V)$ by definition and by commutativity of the diagram we have that $\pi(\varphi(V)(t)) = (\varphi(V)(t),V) = 0$ in $\cG_P$. This means that there is some open neighborhood $W\subset V$ of $P$ such that $\varphi(U)(t)|_W = 0$ by the equivalence relation on $\cG_P$, and since $\varphi(U)(t)|_W = \varphi(W)(t)$ we have that $\varphi(W)(t|_W) = 0$. Hence $t|_W = 0$ and so $t \in \ker\varphi(W)$. Hence $(t|_W,W) \in (\ker \varphi)_P$, and because $(t|_W,W)$ and $(t,V)$ represent the same element in $\ker (\varphi_P)$, this shows the inclusion $\ker(\varphi_P) \subseteq (\ker \varphi)_P$.

				For the other inclusion, take an element $(t,V) \in (\ker\varphi)_P$. This means that $t \in (\ker\varphi)(V) = \ker(\varphi(V))$ and hence $\varphi(V)(t) = 0$ in $\cG(V)$. Composing with $\pi$ gives $\pi(\varphi(V)(t)) = (\varphi(V)(t),V) = 0$ in $\cG_P$. By commutativity, $\pi((t,V)) = (t,V)\in \cF_P$ maps to $0$ under $\varphi_P$, so $(t,V)\in \ker(\varphi_P)$. This gives us the other inclusion.

				\bigskip

                Now let's consider $\im\varphi$. Let $\im^{pre}\varphi$ denote the image presheaf and recall that sheafification preserves stalks: $(\im^{pre}\varphi)_P = (\im\varphi)_P$. By the same diagram as before we have that for $t\in \mathcal F(V)$,
                \begin{align*}
                  \varphi_P(t,V) = \varphi_P(\pi(t)) = \pi(\varphi(V)(t)) = (\varphi(V)(t),V).
                \end{align*}
                Every element $\varphi_P(t,V)\in \im(\varphi_P)$ can therefore be written as the projection of an element $(\varphi(V)(t),V)\in \mathcal G(V)$, and vice versa. This gives both inclusions.
			\item Recall that a map of sheaves is said to be injective if $\ker\varphi = 0$. By part (a), if $\ker\varphi = 0$ then $\ker(\varphi_P) = (\ker \varphi)_P = 0$, and hence $\varphi_P$ is injective. Likewise, if $\varphi_P$ is injective for each $P\in X$, then for any open set $U \subset X$ and any section $s \in \mathcal U$, $\ker\varphi(U)(s)|_P = 0$. This means there is an open cover $\{U_i\}$ of $U$ such that $\ker\varphi(U)(s)|_{U_i} = 0$ for each $i$, and hence $\ker\varphi(U)(s) = 0$. \sidenote{Notice I assumed these are sheaves valued in some abelian category, if this isn't the case then you need to argue slightly differently.}

			\bigskip

			We say that $\varphi$ is surjective if $\im\varphi = \mathcal G$. If $\im \varphi$ is surjective, then $(\im\varphi)_P = \mathcal G_P$ for any $P\in X$. Sheafification preserves stalks, so we may think of $(\im\varphi)_P$ as the stalk of the image presheaf, meaning that for each germ $(s,U) \in (\im\varphi)_P$ we have a corresponding germ $(t,U)\in \mathcal F_P$ satisfying $\varphi(U)(t) = s\in \mathcal G(U)$, and hence $\varphi_P(t) = s$. This shows $\varphi_P$ is surjective for each $P$. Now assume the converse, \ie that $\varphi_P$ is surjective for each $P\in X$. Fix an open set $U\subset X$ and consider a section $s\in \mathcal \mathcal G(U)$. Due the to surjectivity of $\varphi_P$, at each $P \in U$ there is some germ $t_P \in \mathcal F_P$ such that $\varphi_P(t_P) = s_P$. Define a function $r:U\to \bigcup_{P\in U}\mathcal G_P$ by $r(P) = \varphi_P(t_P) = s_P$. We need only check that $r$ is a section of $\im\varphi(U)$. Indeed, by the surjectivity of $\varphi_P$, for each $P$ there is some neighborhood $V$ of $P$ and a section $a \in \mathcal F(V)$ such that $\varphi(V)(a) = s|_V$. Therefore
			\begin{align*}
				r(Q) = \varphi(V)(a)_Q = (s|_V)_Q = s_Q
			\end{align*}
			for each $Q \in V$. Thus $r$ satisfies both conditions defining sections of $\im\varphi$ and is therefore a section. Repeating this construction for each $s\in \mathcal G$ and sending $r\mapsto s$ gives us an identification $\im\varphi = \mathcal G$, and we conclude that $\varphi$ is surjective.

		\item A sequence of sheaves and morphisms $...\to \mathcal F^{i-1}\xrightarrow{\varphi^{i-1}} \mathcal F^i\xrightarrow{i} ...$ is said to be exact if and only if $\ker\varphi^{i} = \im\varphi^{i-1}$ for each $i$. If this is the case, then taking limits of restriction maps give us an exact sequence on stalks for each $P$. Likewise, if $...\to \mathcal F^{i-1}_P\xrightarrow{\varphi^{i-1}_P} \mathcal F^i\xrightarrow{i}_P ...$ is exact for each $P$, then $\im\varphi{i-1}_P = \ker\varphi^{i}_P$ for each $P$. This means $\im\varphi^{i-1}$ surjects onto the subsheaf $\ker\varphi^i$ of $\mathcal F^i$ by part (b). \sidenote{Surely there's more to say here, but this seems like enough... perhaps more detail on the ``exact implies exact on stalks'' direction.}
	  \end{enumerate}
	\end{proof}
	\item
	\begin{enumerate}[(a)]
		\item  Let $\varphi:\cF\to \cG$ be a morphism of sheaves on $X$. Show that $\varphi$ is surjective if and only if the following condition holds: for every open set $U\subseteq X$, and for every $s \in \cG(U)$, there is a covering $\{U_i\}$ of $U$ and there are elements $t_i \in \cF(U_i)$ such that $\varphi(t_i) = s|_{U_i}$ for all $i$.
		\item Give an example of a surjective morphism of sheaves $\varphi:\cF\to \cG$ and an open set $U$ such that $\varphi(U):\cF(U)\to \cG(U)$ is not surjective.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item Suppose $\varphi:\mathcal F\to \mathcal G$ is surjective. Fix an open set $U$ and a section $s\in \mathcal G(U)$. For each $P$ we have a surjection $\varphi_P:\mathcal F_P \to \mathcal G_P$ by Problem \ref{prob:2_1_2}, meaning that at each $P$ we have some germ $(t_P,V_P) \in \mathcal F_P$ such that $\varphi(V_P)(t_P) = s|_P$, after perhaps redefining the open set $V_P$ (note that here, $t_P$ denotes a section of $\mathcal F(V_P)$ and note a germ in $\mathcal F_P$). The cover $\{V_P\}_{P\in U}$ together with the collection of sections $t_P \in \mathcal F(V_P)$ then satisfies the desired condition.

			Conversely, if $\varphi$ satisfies this condition, then we easily see it is surjective on stalks and is hence surjective by Problem \ref{prob:2_1_2}.

			\item Let $X = \mathbb C$ with the usual topology, $\mathcal F$ the presheaf of bounded holomorphic functions and 
		\end{enumerate}
	\end{proof}
\item \label{prob:2_1_4}
	\begin{enumerate}[(a)]
		\item Let $\varphi:\mathcal F\to \mathcal G$ be a morphism of presheaves such that $\varphi(U):\mathcal F(U)\to \mathcal G(U)$ is injective for each $U$. Show that the induced map $\varphi^+:\mathcal F^+ \to \mathcal G^+$ of associated sheaves is injective.
		\item Use part (a) to show that if $\varphi:\mathcal F\to \mathcal G$ is a morphism of sheaves, the $\im \varphi$ can be naturally identified with a subsheaf of $\mathcal G$ as mentioned in the text.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item The map $\varphi^+$ is induced by the following diagram:
				\begin{center}
					\begin{tikzcd}
					\mathcal F\arrow[r,"\varphi"] \arrow[d,"\theta_F"] & \mathcal G \arrow[d, "\theta_G"] \\
					\mathcal F^+\arrow[r,"\varphi^+"] &\mathcal G^+	
					\end{tikzcd}
				\end{center}
				Where $\theta_F:\mathcal F\to \mathcal F^+$ is defined on an open set $U$ and a section $s\in \mathcal F(U)$ by
				\begin{align*}
					s\mapsto (f_s:P\mapsto s_P).
				\end{align*}
				This means $\varphi^+(U)$ is simply given by composition with $\varphi$ stalkwise, i.e. for a section $s\in \mathcal F^+$ and denoting $t = \varphi^+(U)(s) \in \mathcal G^+$, $t$ is defined $t(P) = \varphi_P\circ s(P).$ Notice that in Problem \ref{prob:2_1_2}, the proof that if $\varphi:\mathcal F\to \mathcal G$ is injective then $\varphi_P:\mathcal F_P\to \mathcal G_P$ is injective for each $P$ only required that $\mathcal F$ and $\mathcal G$ were presheaves (the converse required that they be sheaves). Thus, $\varphi_P:\mathcal F_P\to \mathcal G_P$ is injective for each $P\in U$.
			\item Let $\im^p\varphi$ denote the image presheaf $U\mapsto \im(\varphi(U)).$ Consider the inclusion map $\iota:\im^p\varphi \to \mathcal G$ given by the inclusions $\im(\varphi(U)) \hookrightarrow \mathcal G(U)$. This is a morphism of presheaves, and it is clearly injective for each $U$. There is then an induced map of sheaves $\iota^+: \im\varphi \to \mathcal G$ which is also injective by part (a)\sidenote{Here we've implicitly sheafified, replacing $\im^p\varphi$ with its sheafification and leaving $\mathcal G$ as-is since the sheafification of a sheaf is canonically isomorphic to the original sheaf.}. This allows us to identify $\im\varphi$ with a subsheaf of $\mathcal G$: $\im\varphi(U) = \iota^+(\im\varphi(U)) \subset \mathcal G(U)$.
		\end{enumerate}
	\end{proof}

\item Show that a morphism of sheaves is an isomorphism if and only if it is both injective and surjective.
	\begin{proof}
		Proposition 1.1 in Hartshorne Chapter II says that a morphism of sheaves $\varphi:\mathcal F\to \mathcal G$ is an isomorphism if and only if $\varphi_P:\mathcal F_P\to \mathcal G_P$ is an isomorphism on the level of stalks for each $P\in X$. By Problem \ref{prob:2_1_2} (b), $\varphi$ is injective (resp. surjective) if and only if $\varphi_P$ is injective (resp. surjective) for each $P$. This gives us the desired conclusion.\sidenote{There is a subtlety here: two sheaves might have isomorphic stalks at every point but not be isomorphic. Proposition 1.1 says that an isomorphism on stalks is an isomorphism of sheaves if and only if the isomorphisms of stalks comes from a morphism of sheaves. This argument therefore only works because we started with a morphism of sheaves.}
	\end{proof}
\item
	\begin{enumerate}[(a)]
		\item Let $\mathcal F'$ be a subsheaf of a sheaf $\mathcal F$. Show that the natural map of $\mathcal F$ to the quotient sheaf $\mathcal F/\mathcal F'$ is surjective, and has kernel $\mathcal F'$. Thus there is an exact sequence
			\begin{align*}
				0 \to \mathcal F' \to \mathcal F\to \mathcal F/\mathcal F' \to 0.
			\end{align*}
		\item Conversely, if $0\to \mathcal F'\to \mathcal F\to \mathcal F''\to 0$ is an exact sequence, show that $\mathcal F'$ is isomorphic to a subsheaf of $\mathcal F$ and that $\mathcal F''$ is isomorphic to the quotient of $\mathcal F$ by this subsheaf.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item Let $\varphi:\mathcal F\to \mathcal F/\mathcal F'$ denote the natural map given by sheafifying $\mathcal F(U)\to \mathcal F(U)/\mathcal F'(U)$. To show this is surjective, it suffices to show it is surjective on stalks, but this is clear since the map $\varphi_P:\mathcal F_P \to (\mathcal F/\mathcal F')_P = \mathcal F_P/\mathcal F'_P$ is the obvious one. Now take an element $s\in \mathcal F(U)$ such that $\varphi(U)(s) = 0$. Then $\varphi(U)(s)_P = \varphi_P(s_P) = 0$ for each $P\in U$, and hence $s_P \in \ker \varphi_P = \mathcal F'_P$. By the gluing axiom we have that $s\in \mathcal F'$, which gives us the inclusion $\ker\varphi(U)\subseteq \mathcal F'(U)$. For the other inclusion, take a section $s\in \mathcal F'(U)$ and note that $s_P \in \mathcal F'_P = \ker\varphi_P$. We therefore have an exact sequence as described.

			\item Consider an exact sequence
				\begin{align*}
					0 \to \mathcal F'\xrightarrow{\alpha} \mathcal F\xrightarrow{\beta} \mathcal F'' \to 0.
				\end{align*}
				Problem \ref{prob:2_1_4} showed that $\im\alpha$ can indeed be identified with a subsheaf and exactness tells us that subsheaf is $\ker\beta$, giving us the first half of the problem. Any section $s\in \mathcal F'(U)$ gets killed by $\beta\circ \alpha$ at every stalk due to exactness, hence by sheaf axioms $\beta(\alpha(s)) = 0$ in $\mathcal F''(U)$. Thus we get a morphism $\mathcal F(U)/\mathcal F'(U)\to \mathcal F''(U)$ for each $U$, giving us a morphism of presheaves, and after sheafifying this becomes a morphism $(\mathcal F/\mathcal F')(U) = \mathcal F'' (U)$. This is injective and surjective on stalks, seen simply by checking the exact sequence, and is therefore an isomorphism on stalks by \ref{prob:2_1_2}. We conclude that it is an isomorphism of sheaves, giving us the second half of the problem.
		\end{enumerate}
	\end{proof}
\item Let $\varphi:\mathcal F\to \mathcal G$ be a morphism of sheaves.
	\begin{enumerate}[(a)]
		\item Show that $\im\varphi \cong \mathcal F/\ker \varphi$.
		\item Show that $\coker\varphi\cong \mathcal G/\im \varphi$.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item This sort of argument is becoming a little more standard\sidenote{Notice the general pattern here: we want to show two sheaves are isomorphic, but we only know that they or the presheaves from whence they come are isomorphic at each $U$. We check compatibility of these isomorphisms with restriction maps to argue we have an isomorphism of presheaves. Sheafifying yields us morphisms of sheaves and preserves stalks. Because the stalks were isomorphic in the presheaf picture, the morphism of sheaves is an isomorphism.}. We first note that, for each $U$, we have the following diagram:
				\begin{center}
					\begin{tikzcd}
						\mathcal F(U) \arrow[r,"\varphi(U)"]\arrow[rd, "\pi(U)"]& \im(\varphi(U)) \arrow[hook]{r}&\mathcal G(U) \\
																				& \mathcal F(U)/\ker\varphi(U) \arrow[u, dashed, "\alpha(U)"] &
					\end{tikzcd}
				\end{center}
				by the first isomorphism theorem of whatever abelian category in which we happen to be working. The map $\alpha$ is simply $\varphi$ applied to representatives of cosets, it's well defined because everything in $\ker\varphi(U)$ is sent to zero in $\mathcal G(U)$ and it is an isomorphism onto its image which is $\im(\varphi(U))$ by definition. This is compatible with restriction maps and hence this yields a diagram of presheaves. Sheafifying gives us a corresponding diagram of sheaves:
				\begin{center}
					\begin{tikzcd}
						\mathcal F \arrow[r,"\varphi"]\arrow[rd, "\pi"]& \im\varphi \arrow[hook]{r} & \mathcal G\\
																	   & \mathcal F/\ker\varphi \arrow[u, dashed, "\alpha"] &
					\end{tikzcd}
				\end{center}
				Sheafification may have changed the sets $\im(\varphi(U))$ and $\im(\alpha(U))$ for various $U$. However, it preserves stalks, hence $\alpha_P$ is still an isomorphism $\im\varphi_P \cong (\mathcal F/\ker \varphi)_P$ at each $P$. This means $\alpha$ is an isomorphism by Proposition 1.1 in Hartshorne Chapter II\sidenote{We could have concluded simply by stating that the sheafification functor sends isomorphisms to isomorphisms.}.

			\item The sequence
				\begin{align*}
					0 \to \im(\varphi(U)) \to \mathcal G(U) \to \coker \varphi(U) \to 0
				\end{align*}
				is exact for each $U$ and compatible with restriction maps, hence sheafifying yields a sequence
				\begin{align*}
					\im \varphi \to \mathcal G\to \coker\varphi.
				\end{align*}
				This is exact on stalks and hence is exact as a sequence of sheaves by Problem \ref{prob:2_1_2}. Applying the result of Problem \ref{prob:2_1_4} proves that $\mathcal G/\im \varphi \cong \coker \varphi$.
		\end{enumerate}
	\end{proof}
	\item For any open subset $U\subseteq X$, show that the functor $\Gamma(U,\cdot)$ from sheaves on $X$ to abelian groups is a left exact functor, i.e., if $0\to \mathcal F'\to \mathcal F\to \mathcal F''$ is an exact sequence of sheaves, the $0\to \Gamma(U,\mathcal F') \to \Gamma(U,\mathcal F)\to \Gamma(U, \mathcal F'')$ is an exact sequence of groups. The functor $\Gamma(U,\cdot)$ need not be exact; see Exercise \ref{prob:2_1_21} below.
	\begin{proof}
		Label the relevant maps of the exact sequence: $0\to \mathcal F\xrightarrow{\alpha}\mathcal F\xrightarrow{\beta} \mathcal F''$. A map of sheaves is injective if and only if it is injective on sections, hence $0 \to \Gamma(U,\mathcal F') \xrightarrow{\alpha(U)} \Gamma(U,\mathcal F)$ is exact (i.e. $\alpha(U)$ is injective). We only need to show that $\im\alpha (U) = \ker \beta (U)$.

		Take a section $s\in \mathcal F'(U)$. Compatibility with restrictions gives us
		\begin{align*}
			(\beta_U\circ \alpha_U)(s)_P 
			&= \varinjlim_{U\supset V \ni P} (\beta_U\circ \alpha_U)(s)|_V \\
			&= \varinjlim_{U\supset V\ni P} (\beta_U\circ \alpha_U)(s|_V) \\
			&= \beta_P\circ \alpha_P (s_P) = 0
		\end{align*}
		with the last equality following from the exactness on stalks. Since $\beta_U\circ \alpha_U(s)$ is zero at every stalk, sheaf axioms give us that $\beta_U\circ \alpha_U(s)$ itself is zero, and hence $\ker \beta_U\supseteq \im\alpha_U$.

		Now suppose we start with a section $s\in \ker\beta_U$. A similar argument above tells us that, at each $P$, there is a germ $t_P = (V_i, t_i) \in \mathcal F'_P$ (using an intermediate index $i$ determined by each $P$ to avoid confusion between the element $t_P \in \mathcal F'_P$ and $t_i \in \mathcal F'(V_i)$) such that $\alpha_P(t_P) = s_P$. After perhaps shrinking $V_i$, we can assume that $\alpha_P(t_P) = (V_i, s|_{V_i})$, the representative of $s_P$ in $\mathcal F_P$, and hence $\alpha_{V_i}(t_i) = s|_{V_i}$. Since
		\begin{align*}
			\alpha_{V_i}(t_i)|_{V_i\cap V_j} = (s|_{V_i})|_{V_i\cap V_j} = (s|_{V_j})|_{V_i\cap V_j} = \alpha_{V_j}(t_j)|_{V_i\cap V_j},
		\end{align*}
		the collection of sections $\{\alpha_{V_i}(t_i)\}_{i}$ agree on overlaps. Since $\alpha$ is injective\sidenote{Notice that injectivity of $\alpha$ is crucial here!} on sections, it must be the case that $t_i|_{V_i \cap V_j} = t_j|_{V_i\cap V_j}$. By the gluing axiom, there exists some section $t\in \mathcal F'(U)$ such that $t|_{V_i} = t_i$. But then
		\begin{align*}
			\alpha_U(t)|_{V_i} = \alpha_{V_i}(t|_{V_i}) = \alpha_{V_i}(t_i) = s|_{V_i},
		\end{align*}
		and since $\alpha_U(t)$ and $s$ agree on a cover of $U$, they must be the same section in $\mathcal F$. This gives us the second inclusion $\ker\beta_U\subseteq \im\alpha_U$, and we are done.
	\end{proof}
\item \emph{Direct sum}. Let $\mathcal F$ and $\mathcal G$ be sheaves on $X$. Show that the presheaf $U\mapsto \mathcal F(U)\oplus \mathcal G(U)$ is a sheaf. It is called the \emph{direct sum} of $\mathcal F$ and $\mathcal G$, and is denoted by $\mathcal F\oplus \mathcal G$. Show it plays the role of direct sum and of direct product in the category of sheaves of abelian groups on $X$.
\begin{proof}
	We first show $\mathcal F\oplus \mathcal G$ as defined is a sheaf.

\emph{Locality:} Suppose we have a cover $V_i$ of $U$ and a section $(s,t) \in \mathcal F(U)\oplus \mathcal G(U)$ such that $(s,t)|_{V_i} = 0$ for all $i$. By definition $(s,t)|_{V_i} = (s|_{V_i}, t|_{V_i}) = 0 = (0,0)$, and hence by the locality of $\mathcal F$ and $\mathcal G$ we have $(s,t) = 0$.

\emph{Gluing} Suppose we have a cover $V_i$ of $U$ and sections $(s_i,t_i) \in \mathcal F(V_i)\oplus \mathcal G(V_i)$ which agree on overlaps. Then there are sections $s \in \mathcal F(U)$ and $t\in \mathcal G(U)$ such that $(s|_{V_i}, t|_{V_i}) = (s_i,t_i)$ for each $i$, hence $(s,t)|_{V_i} = (s_i,t_i)$. 

Thus $\mathcal F\oplus \mathcal G$ is a sheaf. Given morphisms $f:\mathcal F\to \mathcal H$ and $g:\mathcal G\to \mathcal H$ we obtain a unique morphism $\mathcal F(U)\oplus \mathcal G(U) \to \mathcal H(U)$ for each open set $U$. This morphism is compatible with the restriction maps, and hence we get a (unique) morphism of sheaves $\mathcal F\oplus\mathcal G\to \mathcal H$. The direct product case is similar. \sidenote{I'm not sure what else to say here without putting together a formal category theoretic argument, which feels like overkill.}
\end{proof}
\item \label{prob:2_1_10} \emph{Direct Limit}. Let $\{\mathcal F_i\}$ be a direct system of sheaves and morphisms on $X$. We define the \emph{direct limit} of the system $\{\mathcal F_i\}$, denoted $\varinjlim \mathcal F_i$, to be the sheaf associated to the presheaf $U\mapsto \varinjlim \mathcal F_i(U)$. Show that this is a direct limit in the category of sheaves on $X$, i.e., that it has the following universal property: given a sheaf $\mathcal G$, and a collection of morphisms $\mathcal F_i \to \mathcal G$, compatible with the maps of the direct system, then there exists a unique map $\varinjlim \mathcal F_i \to \mathcal G$ such that for each $i$, the original map $\mathcal F_i \to \mathcal G$ is obtained by composing the maps $\mathcal F_i\to \varinjlim \mathcal F_i \to \mathcal G$.
	\begin{proof}
		Denote by $g_i:\mathcal F_i \to \mathcal G$ the maps from the problem statement. For an open $U\subset X$ we have
		\begin{align*}
			\mathcal F_i(U) \to \varinjlim \mathcal F_i(U) \to \mathcal G(U).
		\end{align*}
		This is compatible with restriction maps by the universal property of direct limits, summarized by the following two diagrams for $V\subseteq U$:\sidenote{Maps $\varinjlim \mathcal F_i(U)\xrightarrow{h} \varinjlim \mathcal F_i(V)$ are induced by the universal property of direct limits together with the restriction maps $\mathcal F_i(U) \to \mathcal F_i(V)$. We therefore denote $h$ by $\res$ as well.}
		\begin{center}
			\begin{tikzcd}
							 & & \varinjlim \mathcal F_i(U)  & & \\
							 &&&&\\
				... \arrow[r,"f_{i-1}(U)"]& \mathcal F_i(U) \arrow[uur]\arrow[d, "\res"]\arrow[r,"f_i(U)"] & \mathcal F_{i+1}(U)\arrow[d, "\res"]\arrow[r,"f_{i+1}(U)"]\arrow[uu]& \mathcal F_{i+2}(U) \arrow[d, "\res"]\arrow[r,"f_{i+2}(U)"]\arrow[uul]& ... \\
				
				... \arrow[r, "f_{i-1}(V)"]& \mathcal F_i(V) \arrow[ddr]\arrow[r,"f_i(V)"]& \mathcal F_{i+1}(V) \arrow[dd]\arrow[r,"f_{i+1}(V)"]& \mathcal F_{i+2}(V) \arrow[ddl]\arrow[r,"f_{i+2}(V)"]& ... \\

											&&&&\\
							 & & \varinjlim \mathcal F_i(V) \arrow[from=uuuuu, dashed, bend right = 42, crossing over, "\exists ! h"]& & \\
			\end{tikzcd}
			\begin{tikzcd}
				\mathcal F_i(U) \arrow[r]\arrow[d, "\res"]\arrow[rr, bend left = 30,"g_i(U)"]& \varinjlim \mathcal F_i(U) \arrow[d, "\res"]\arrow[r]& \mathcal G(U) \arrow[d,"\res"]\\
				\mathcal F_i(V) \arrow[r]\arrow[rr, bend right = 30,"g_i(V)"]& \varinjlim \mathcal F_i(V)\arrow[r]& \mathcal G(V)
			\end{tikzcd}
		\end{center}
		The therefore yields a map of presheaves $(\varinjlim F_i)^{pre} \to \mathcal G$. The map $g_i$ factors through this map on stalks, and hence after sheafifying we get the diagram
		\begin{center}
			\begin{tikzcd}
				\mathcal F_i \arrow[r]\arrow[rr, bend left = 30,"g_i"]& \varinjlim \mathcal F_i \arrow[r, "\varphi"]& \mathcal G 
			\end{tikzcd}
		\end{center}
		of sheaves. Uniqueness of the map $\varphi$ follows from the uniqueness of the sheafification map. 
	\end{proof}
\item Let $\{\mathcal F_i\}$ be a direct system of sheaves on a Noetherian topological space $X$. In this case show that the presheaf $U\mapsto \varinjlim \mathcal F_i(U)$ is already a sheaf. In particular, $\Gamma(X,\varinjlim \mathcal F_i) = \varinjlim \Gamma(X,\mathcal F_i)$.
	\begin{proof}
		Denote by $f_{ij}:\mathcal F_i\to \mathcal F_j$ the direct system map with $i\leq j$. First observe that a Noetherian topological space satisfies the ascending chain condition on open sets. Indeed, if $U_1\subseteq U_2 \subseteq U_3 \subseteq ...$ is an ascending chain of open sets in $X$, then
		\begin{align*}
			X\setminus U_1 \supseteq X\setminus U_2 \supseteq X\supseteq X\setminus U_3 \supseteq ...
		\end{align*}
		is a descending chain of closed sets and hence must terminate. In addition, recall that
		\begin{align*}
			\varinjlim \mathcal F_i(U) = \left.\bigsqcup_{i}\mathcal F_i(U) \middle/ \sim\right. .
		\end{align*}

		\emph{Locality.} ~ Take a cover $V_\alpha$ of an open set $U$ and a section $\overline s\in \varinjlim \mathcal F_i(U)$ such that $\overline s|_{V_\alpha} = 0$ for all $i$. Fix $i$ so that the representative $s$ of $\overline s$ is a section of $\mathcal F_i(U)$. The direct system maps must be compatible with restriction since they're sheaf morphisms, hence $s|_{V_i} = 0$ for each $V_i$. This implies that $\overline s = 0$ in $\varinjlim \mathcal F_i(U)$. \sidenote{Notice that we didn't need Noetherian here -- the presheaf $U\mapsto \varinjlim \mathcal F_i(U)$ is separated.}

		\emph{Gluing.} Suppose we have sections $\overline s_j \in \varinjlim \mathcal F_i(V_j)$ which agree on overlaps which we wish to glue. The ascending chain
		\begin{align*}
			V_{i_1}\subseteq V_{i_1}\cup V_{i_2} \subseteq V_{i_1}\cup V_{i_2}\cup V_{i_3}\subseteq ...
		\end{align*}
		must terminate by our observation from the beginning, hence up to relabeling we can assume $V_j \subseteq \bigcup_{\ell = 1}^n V_\ell$ for all $j$. This means we need only glue $\overline s_{\ell}$ for $1\leq \ell \leq n$. Let $i_1,...,i_n$ be the indices of the sheaves where the representatives of the $\overline s_\ell$ live, i.e. $s_\ell \in \mathcal F_{i_\ell}(V_\ell)$. Since $\overline s_1|_{V_1\cap V_2} = \overline s_2 |_{V_1\cap V_2}$, by definition of the direct limit there must be some $k\geq i_1, i_2$ such that $f_{i_1, k}(s_1) = f_{i_2, k}(s_2)$. By the gluing property of sheaves there must then be some section $s_{1,2} \in \mathcal F_k(V_1\cup V_2)$ such that $s_{1,2}|_{V_1} = f_{i_1,k}(s_1)$ and $s_{1,2}|_{V_2} = f_{i_2,k}(s_2)$. We now have $n-1$ sections to glue, $s_{1,2}$ and $s_3,...,s_{n}$. Repeating this procedure $n$ times produces a section $s_{1,...,n} \in \mathcal F_{m}(V_1\cup ...\cup V_n)$ such that $s_{1,...,n}|_{V_\ell} = f_{\ell, m}(s_\ell)$ for all $1\leq \ell\leq n$. \sidenote{Finiteness/Noetherian-ness was essential here to ensure this process terminates. We need to find some $m$ such that the gluing can all happen in $\mathcal F_m(\bigcup V_\ell)$, and this almost certainly won't happen unless there are only finitely many $s_\ell$.}
	\end{proof}
\item \emph{Inverse Limit.} Let $\{\mathcal F_i\}$ be an inverse system of sheaves on $X$. Show that the presheaf $U\mapsto \varprojlim \mathcal F_i(U)$ is a sheaf. It is called the \emph{inverse limit} of the system $\{\mathcal F_i\}$, and is denoted by $\varprojlim \mathcal F_i$. Show that it has the universal property of an inverse limit in the category of sheaves.
	\begin{proof}
		We first recall that the inverse limit $\varprojlim \mathcal F_i(U)$ in the category of abelian groups is defined
		\begin{align*}
			\varprojlim \mathcal F_i(U) = \left\{\vec a \in \prod_{i\in I}\mathcal F_i(U) ~\midd~ a_i = f_{ij}(a_j) ~\text{ for all } ~ i\leq j ~\text{ in } ~ I\right\}.
		\end{align*}
		The restriction maps for the presheaf $U\mapsto \varprojlim \mathcal F_i(U)$ are given ``component-wise'' by $s|_V = (s_i|_{V})_{i\in V}$. This is a well defined map because the $f_{ij}$ are sheaf morph isms; they commute with restriction.

		\emph{Locality.} Take an open cover $V_\ell$ of $U$ and a section $s\in \varprojlim \mathcal F_i(U)$ which restricts to zero on each $V_\ell$. Then for each $i$,
		\begin{align*}
			s_i|_{V_j} = 0 ~\text{ for all }~ j \implies s_i = 0
		\end{align*}
		and hence $s = 0$.

		\emph{Gluing.} Suppose we have sections $s_\ell = (s_\ell^i) \in \varprojlim \mathcal F_i(V_\ell)$ on $V_\ell$ which agree on overlaps. Since each $\mathcal F_i$ is a sheaf, there is then a section $s^i \in \mathcal F_i(U)$ which glues to give $s^i|_{V_\ell} = s^i_\ell$ on each $V_\ell$. This gives us a tuple $s = (s^i)\in \prod \mathcal F_i(U)$. To check that this is in $\varprojlim \mathcal F_i(U)$ we need that $s^j = f_{ij}(s^i)$ whenever $i > j$. This is a condition on $\mathcal F_i$ and $\mathcal F_j$, which are sheaves, and because $(s_\ell^i) \in \varprojlim \mathcal F_i(V_\ell)$ for all $\ell$ the condition holds locally:
		\begin{align*}
			s^j|_{V_\ell} = s^j_\ell = f_{ij}(s^i_\ell) = f_{ij}(s^i|_{V_\ell}).
		\end{align*}
		It follows that $s^j$ and $f_{ij}(s^j)$ are equal on stalks: $s^j_P = f_{ij}(s^i)_P$ for all $P\in U$, hence $s^j = f_{ij}(s^i)$ as sections on $\mathcal F_j(U)$. The section $s$ is therefore a section of $\varprojlim \mathcal F_i(U)$ which restricts to $s_\ell$ on each $V_\ell$.

		\bigskip

		We now argue that $\varprojlim \mathcal F_i$ satisfies the universal property of inverse limits in the category of sheaves of abelian groups on the topological space $X$. Suppose we have a system of maps $\varphi_i:\mathcal G\to \mathcal F_i$ which are compatible with the inverse system $f_{ij}:\mathcal F_i\to \mathcal F_j$. For any open set $U$ define a map $\alpha:\mathcal G(U)\to \varprojlim \mathcal F_i(U)$ by $s\mapsto (\varphi_i(s))_{i\in I}$. The compatibility of $\varphi_i$ with the inverse system ensures this is an element in $\varprojlim \mathcal F_i(U)$ since $f_{ij}(\varphi_i(s)) = \varphi_j(f_{ij}(s))$, and compatibility with restriction maps is clear since the $f_{ij}$ are sheaf morphisms. Hence $\varprojlim \mathcal F_i$ is indeed the inverse limit in the category of sheaves on $X$ valued in abelian groups.
	\end{proof}

\item \emph{Espace \'Etal\'e of a Presheaf}. (This exercise is included only to established the connection between our definition of a sheaf and another definition often found in the literature.) Given a presheaf $\mathcal F$ on $X$, we define a topological space $\Spe(\mathcal F)$ called the \emph{espace \'etal\'e} of $\mathcal F$, as follows. As a set, $\Spe(\mathcal F) = \bigcup_{P\in X} \mathcal F_P$. We define a projection map $\pi:\Spe(\mathcal F)\to X$ by sending $s\in \mathcal F_P$ to $P$. For each open set $U\subseteq X$ and each section $s\in \mathcal F(U)$, we obtain a map $\ols : U\to \Spe(\mathcal F)$ by sending $P\mapsto s_P$, its germ at $P$. This map has the property that $\pi\circ \overline s = \id_U$, in other words, it is a ``section'' of $\pi$ over $U$. We now make $\Spe(\mathcal F)$ into a topological space by giving it the strongest topology such that all the maps $\overline s:U\to \Spe(\mathcal F)$ for all $U$, and all $s\in \mathcal F(U)$, are continuous. Now show that the sheaf $\mathcal F^+$ associated to $\mathcal F$ can be described as follows: for any open set $U\subseteq X$, $\mathcal F^+(U)$ is the set of \emph{continuous} sections of $\Spe(\mathcal F)$ over $U$. In particular, the original presheaf $\mathcal F$ was a sheaf if and only if for each $U$, $\mathcal F(U)$ is equal to the set of all continuous sections of $\Spe(\mathcal F)$ over $U$.
	\begin{proof}
		
	\end{proof}

\item Let $\cF$ be a sheaf on $X$, and let $s \in \cF(U)$ be a section over an open set $U$. The \emph{support} of $s$, denote $\Supp s$ is defined to be $\{P \in U \mid s_P \neq 0\}$, where $s_P$ denotes the germ of $s$ in the stalk of $\cF_P$. Show that $\Supp s$ is a closed subset of $U$. We define the \emph{support} of $\cF$ $\Supp \cF$, to be $\{P\in X \mid \cF_P \neq 0\}$. It need not be a closed subset.
	\begin{proof}
		Consider the set $V = \{P \in U \mid s_P = 0\}$. For each $P\in V$ there then exists some $W_P$ containing $P$ and open in $V$ such that $s_P = (s|_{W_P}, W_P) = 0$, i.e. so that $s|_{W_P} = 0$. We then have that $V = \bigcup_{P \in V} W_P$, and hence $V$ is open. Because $\Supp s$ is the complement of $V$ it is closed.

		An example of a sheaf whose support is not a closed set in $U$ is $j_!\bZ$. Here $j:U\to X$ is the inclusion and $j_!:\Sh(U,\bZ)\to \Sh(X,\bZ)$ is the functor where $j_!\cF$ is the sheaf associated to the presheaf
		\begin{align*}
			V \mapsto
			\begin{cases}
				\cF(V) &\text{if } V\subseteq U \\
				0 & \text{otherwise}
			\end{cases}.
		\end{align*}
		The sheaf $j_!\cF$ has the property that $(j_!\cF)_x = \cF_x$ if $x \in U$ and is $0$ otherwise. Hence, the support of $j_!\bZ$ is simply $U$, which is open, not necessarily closed.
	\end{proof}
	\item Sheaf $\sHom$. Let $\cF$ and $\cG$ be sheaves of abelian groups on $X$ . For any open set $U\subseteq X$ show that the set $\Hom(\cF|_U,\cG|_U)$ of morphisms of the restricted sheaves has a natural structure of an abelian group. Show that the presheaf $U\mapsto \Hom(\cF_U,\cG|_U)$ is a sheaf. It is called the \emph{sheaf of local morphisms} of $\cF$ into $\cG$, ``sheaf hom'' for short, and is denoted $\sHom(\cF,\cG)$.
	\begin{proof}
		We first show that $\Hom(\cF|_U,\cG_U)$ is an abelian group. This is easy; we simply define $(f+g)(U) = f(U) + g(U) \in \Hom_{\text{Ab}}(\cF(U), \cG(U))$. The zero morphism $0:\cF\to \cG$ defined $0(U)(s) = 0$ is the identity and the inverse of a map $f:\cF\to \cG$ is the morphism $-f:\cF\to \cG$ defined on sections by $(-f)(U)(s) = -f(U)(s)$. This addition is compatible with restrictions.

		Note that $\sHom(\cF,\cG)$ is indeed a presheaf -- it associates an abelian group to every $U\subseteq X$ and for every inclusion $V\subseteq U$ we get a restriction $\Hom(\cF|_U,\cG|_U) \to \Hom(\cF|_V,\cG_V)$ given by restriction a morphism $f:\cF|_U\to \cG|_U$ to $\cF|_V\to \cG|_V$ (here we are technically using the fact that $(\cF|_U)|_V \cong \cF|_V$). We therefore need only show the two locality conditions hold for $\sHom(\cF,\cG)$.

		\bigskip

		\emph{Identitiy Axiom:} ~ Suppose $f$ is a section of $\Hom(\cF|_U,\cG|_U)$, i.e. that it is a map $f:\cF|_U\to \cG|_U$, such that $f|_{V_i} = 0$ on some open cover $\{V_i\}$ of $U$. Take some other open set $W \subseteq U$ and let $W_i = W\cap V_i$. Take some section $s \in \cF(W)$. For each $i$, the diagram
		\begin{center}
			\begin{tikzcd}
				\cF(W) \arrow[r,"f(W)"] \arrow[d,"\rho"] & \cG(W) \arrow[d,"\rho"] \\
				\cF(W_i) \arrow[r,"f(W_i)"] & \cG(W_i)
			\end{tikzcd}
		\end{center}
		commutes and $f|_{W_i} = f(W_i)$ by definition, so we get that $f(W_i)(s|_{W_i}) = 0$ for each $i$. The commutativity of the diagram paired with the fact that $\cG$ is a sheaf gives us that $f(W)(s) = 0$, since the $\cG$ section $f(W)(s)$ restricts to zero on $W_i$ for each $i$. Because $s$ was chosen to be an arbitrary section $f(W)$ must be zero and because $W$ was chosen to be an arbitrary open subset of $U$ the morphism $f:\cF|_U\to \cG|_U$ must be zero. This proves the first sheaf axiom.

		\bigskip

		\emph{Gluing Axiom:}~ Suppose now that we have morphisms $f_i:\cF|_{V_i}\to \cG|_{V_i}$ on some open cover $\{V_i\}$ of an open set $W\subseteq U$ such that $f_i(V_i\cap V_j) = f_j(V_i\cap V_j)$. We can define a morphism $f:\cF|_W\to \cG|_W$ which restricts to $f_i$ on $V_i$ as follows.

		Fix an arbitrary section $s \in \cF(W)$, restrict it to $V_i$ and map it to $\cG|_{V_i}$. This is $f_i(V_i)(s|_{V_i})$. The restriction of this $\cG(V_i)$ section to $V_i\cap V_j$ is $f_i(V_i)(s|_{V_i})|_{V_j} = f_i(V_i)(s|_{V_i\cap V_j})$ by the commutativity requirement satisfied by $f_i(V_i)$ and furthermore $f_i(V_i)(s|_{V_i\cap V_j}) = f_j(V_j)(s|_{V_i\cap V_j}) = f_j(V_j)(s|_{V_j})|_{V_i}$ since $f_i$ and $f_j$ agree on overlaps. Hence $\{f_i(V_i)(s|_{V_i})\}_i$ form a collection of sections in $\cG(V_i)$ which agree on overlaps, so there is some unique $x \in \cG(W)$ which restricts to $f_i(V_i)(s|_{V_i})$ on $V_i$. Now define $f(W)(s) = x$. This is the only thing we could possibly do, since $x$ is the unique element which satisfies $x|_{V_i} = f(V_i)(s|_{V_i})$ for all $i$. One can see that $f$ is compatible with restrictions by definition (we \emph{definted} it by lifting restrictions on a cover) and that $f(W')$ is a homomorphism of abelian groups by tracing a sum $s + t$ of sections in $\cF(W')$ through the same restriction diagrams and lifting to $\cG(W')$.
	\end{proof}
	\item A sheaf $\cF$ on a topological space $X$ is \emph{flasque} if for every inclusion $V\subseteq U$ of open sets, the restriction map $\cF(U) \to \cF(V)$ is surjective.
	\begin{enumerate}[(a)]
		\item Show that a constant sheaf on an irreducible topological space is flasque.
		\item If $0 \to \cF' \to \cF\to \cF''\to 0$ is an exact sequence of sheaves, and if $\cF'$ is flasque, then for any open set $U$, the sequence $o\to \cF'(U)\to \cF(U)\to \cF''(U)\to 0$ of abelian groups is also exact.
		\item If $0 \to \cF' \to \cF \to \cF''\to 0$ is an exact sequence of sheaves and if $\cF'$ and $\cF$ are flasque, then $\cF''$ is flasque.
		\item If $f:X\to Y$ is a continuous map, and if $\mathcal F$ is a flasque sheaf on $X$, then $f_*\mathcal F$ is a flasque sheaf on $Y$.
		\item Let $\mathcal F$ be any sheaf on $X$. We define a new sheaf $\mathcal G$, called the sheaf of \emph{discontinuous sections} of $\mathcal F$ as follows. For each open set $U\subseteq $, $\mathcal G(U)$ is the set of maps $s:U\to \bigcup_{P\in U}\mathcal F_P$ such that for each $P\in U, s(P) \in \mathcal F_P$. Show that $\mathcal G$ is a flasque sheaf and that there is a natural injective morphism of $\mathcal F$ to $\mathcal G$.
	\end{enumerate}
	\begin{proof}$ $
		\begin{enumerate}[(a)]
			\item \sidenote{This is immediate from the following property of irreducible topological spaces: every open subset of an irreducible topological space is connected. This is why irreducible topological spaces are sometimes called ``hyperconnected spaces.''}Let $A$ be the constant sheaf valued in $A$ defined in Example 1.0.3. Since $X$ is irreducible so is every subset of $X$ endowed with the subspace topology. In particular, for any two open sets $V \subseteq U$ of $X$, both $U$ and $V$ are connected. Thus $f\in A(V)$ is a constant function and can hence be easily extended to a function on $U$. Hence every section of $A(V)$ is obtained as the restriction of a section in $A(U)$, hence $A(U)\to{res}A(V)$ is surjective, hence $A$ is flasque.
			\item \sidenote{We need to show that $\alpha_U:\mathcal F(U)\to \mathcal F''(U)$ is surjective. The strategy is, roughly, to construct a poset of open sets of $U$, show it has maximal elements and then show that any maximal element is equal to $U$. This last bit is where we require the flasque hypothesis.} Let $\beta:\mathcal F'\to \mathcal F$ and $\alpha: \mathcal F\to \mathcal F''$ be the sheaf maps in the exact sequence. By Exercise 1.8, the sequence $0 \to \mathcal F'(U) \to \mathcal F(U) \to \mathcal F''(U)$ is exact, so it remains to show that $\mathcal F(U)\to \mathcal F''(U)$ is surjective. By the surjectivity of the exact sequence of sheaves, we know there is a covering $U_i$ of $U$ such that for each section $s\in \mathcal F''(U)$ there exists sections $t_i \in \mathcal F(U_i)$ so $\alpha_{U_i}(t_i) = s|_{U_i}$. Let $I$ be the set of pairs $(U_i,t_i)$ equipped with the partial order $(U_i,t_i) \leq (U_j,t_j) \iff U_i \subseteq U_j$ and $t_i = t_j|_{U_i}$.

				\medskip

				We first show that $I$ has a maximal element. Take some chain $C$ in $I$ and set $V = \bigcup_{(U_i,t_i)\in C} U_i$. Since all the sections $t_i$ agree on intersections, there is some $t \in \mathcal F(V)$ such that $t|_{U_i} = t_i$ for all $i$ with $(U_i,t_i)\in C$. This means $\alpha_V(t) = s|_V$ by gluing and commutativity of $\alpha$ with restriction, so $V$ is an upper bound for $C$ and hence $I$ has maximal elements by Zorn's lemma. Let $(U^*,t^*)$ be a maximal element of $C$.

				\medskip

				Now we use the flasque hypothesis. Suppose that $U^* \subsetneq U$, i.e. that there is a maximal element of $I$ which isn't all of $U$. Then there is some open $U_i\subseteq U$ such that $U_*\subseteq U_*\cup U_i$. Because the images of $t^*$ and $t_i$ must agree on intersections, we get that
				\begin{align*}
					&\alpha(t^*)|_{U^*\cap U_i} = \alpha(t_)|_{U^*\cap U_i} \\
					&\implies t^*|_{U^*\cap U_i} - t_i|_{U^*\cap U_i} \in \ker\alpha_{U^*\cap U_i} = \img\beta_{U^*\cap U_i}.
				\end{align*}
				There is then some section $y \in \mathcal F'(U^*\cap U_i)$ such that $\beta_{U^*\cap U_i}(y) = t^*|_{U^*\cap U_i} - t_i|_{U^*\cap U_i}$, hence there is a section $z \in \mathcal F'(U^*)$ such that $\beta_{U^*}(z) \in \ker\alpha_{U^*}$\sidenote{This is exactness} and $\beta_{U^*}(z)|_{U^*\cap U_i} = t^*|_{U^*\cap U_i} - t_i|_{U^*\cap U_i}$. Set $a = t^* - \beta_{U^*}(z)$. Then $a$ and $t_i$ agree on $U^*\cap U_i$, so there is some $b\in \mathcal F(U^*\cup U_i)$ which restricts to $a$ and $t_i$ on $U^*$ and $U_i$ respectively. Furthermore, $b|_{U_j} = t_j$ whenever $U_j \subseteq U^*\cup U_I$. Hence $(U^*\cup U_i, b)$ is an element of $I$ strictly containing $(U^*,t^*)$, contradicting maximality. Thus $U^* = U$ and $\alpha_{U^*}(t^*) = s$, proving that $\alpha_U$ is indeed surjective.
			\item For any $V\subseteq U$ we get the following commutative diagram with exact rows by part (b):
				\begin{center}
					\begin{tikzcd}
						0 \arrow[r]& \mathcal F'(U) \arrow[r,"\beta_U"]\arrow[d,"res"] & \mathcal F(U) \arrow[r,"\alpha_U"]\arrow[d,"res"]&\mathcal F''(U)\arrow[r]\arrow[d,"res"]& 0 \\
						0 \arrow[r]& \mathcal F'(V) \arrow[r,"\beta_V"] & \mathcal F(V) \arrow[r,"\alpha_V"]&\mathcal F''(V)\arrow[r]& 0
					\end{tikzcd}
				\end{center}
				We know $\mathcal F(U) \to{\alpha_U}\mathcal F''(U)$ and $\mathcal F(V) \to{\alpha_V}\mathcal F''(V)$ are surjective by the exactness shown in (b) since $\mathcal F'$ is flasque and we know $\mathcal F(U)\to{res}\mathcal \mathcal F(V)$ is surjective since $\mathcal F$ is flasque. Therefore $\alpha_V\circ res$ is surjective and hence $\mathcal F''(U)\to{res}\mathcal F''(V)$ is surjective by commutativity.
			\item For any open $V\subseteq U \subseteq Y$, $f^{-1}(V) \subseteq f^{1}(U)$ and hence the restriction map $\mathcal F(f^{-1}(U))\to \mathcal \mathcal F(f^{-1}(V))$ is surjective. This gives the result.
			\item Let $V\subseteq U$ be two open sets in $X$. Any $s\in \mathcal G(V)$ can be extended to a map $\overline s\in \mathcal G(U)$ simply by choosing an image for each $P\in U\setminus V$; any choice produces a valid section in $U$. Thus the restriction map $\mathcal G(U)\to \mathcal G(V)$ is clearly surjective.

				\medskip

				For any $U\subseteq X$ consider the map $\iota_U:\mathcal F(U)\to \mathcal G(U)$ defined $\iota_U(s): P\mapsto s_P$. This is compatible with restriction, hence $\iota$ is a morphism of sheaves. If $s\in \ker\iota(U)$ then $s_P = 0$ for every $P\in U$, and hence $s = 0$ by the locality axiom. Hence $\ker\iota$ is the constant zero sheaf and $\iota$ is injective.
		\end{enumerate}
	\end{proof}
	\item Let $X$ be a topological space, let $P$ be a point, and let $A$ be an abelian group. Define a sheaf $i_P(A)$ as follows: $i_P(A)(U) = A$ if $P\in U$, $0$ otherwise. Verify that the stalk of $i_P(A)$ is $A$ at every point $Q\in \{P\}^-$ in the closure of $P$, and $0$ elsewhere. Hence the name ``skyscraper sheaf''. Show that this sheaf could also be described as $i_*(A)$ where $A$ denotes the constant sheaf $A$ on the closed subspace $\{P\}^-$ and $i\{P\}^-\to X$ is the inclusion.
	\begin{proof}
		Suppose $Q\in \{P\}^-$ so that every open set $V$ containing $Q$ also contains $P$. Then $i_P(A)(V) = A$ for every such set by definition, and the restriction map $i_P(A)(V) \to i_P(A)(V')$ for $Q \in V' \subseteq V$ is the identity. Hence the stalk at $i_P(A)(V)$ is indeed $A$. If $Q$ is not in the closure of $\{P\}$ then there is some open set $V$ containing $Q$ which avoids $P$. Hence $i_P(A)(V) = 0$ and the stalk at $Q$ must necessarily be zero.

		Suppose now that $i_*(A)$ is the pushforward of the constant sheaf on $\{P\}^-$ via the inclusion $i:\{P\}^-\to X$. Any open subset of $\{P\}^-$ is given by the intersection of $\{P\}^-$ with $V\subseteq X$ open. If this intersection contains a point $Q$, then $V$ necessarily contains $P$ as well, since $Q$ is in the closure of $\{P\}$. This means every nonempty open subset of $\{P\}^-$ contains $P$, and in particular, any two open subsets meet. This implies that $\{P\}^-$ is connected and thus the constant sheaf $A$ on $\{P\}^-$ is simply the constant presheaf. The pushforward $i_*A$ is then
		\begin{align*}
			i_*A(V) = A(i^{-1}(V)) =
			\begin{cases}
				A & i^{-1}(V) \text{ nonempty } \iff P\in V\\
				0 & i^{-1}(V) = \empty \iff P\not\in V
			\end{cases}.
		\end{align*}
		This is exactly the skyscraper sheaf.
	\end{proof}
\item[\textsc{Exercise 1.21}] \label{prob:2_1_21}
\end{problemset}
\end{document}

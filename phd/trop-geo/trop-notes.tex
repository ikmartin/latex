\input{../preamble.tex}
\usepackage{indentfirst}

% Title page stuff
\title{Notes for Tropical Geometry\\ \vspace{0.5em}{\Large Fall 2022}\vspace{0.5em}\\ The University of Texas at Austin \\ Lectured by Bernd Seibert}
\date{Last Compiled: \today}
\author{Isaac Martin}

% start document
\begin{document}
\pagestyle{empty}
\maketitle
\newpage
\tableofcontents
\newpage
\entry{2022-Aug-23}

\section{Introduction/Motivation} Tropical geometry is the study of discrete structures appearing in limits of polynomial equations.

Course outline:
\begin{enumerate}[(1)]
  \item Hypersurface amoebas, their skeleta, and tropical limits
  \item 
\end{enumerate}

\section{Hypersurface amoebas, their skeleta, and tropical limits}
\subsection{Laurent polynomial ring}

$\bC[z^{\pm_1}_1,...,z_n^{\pm}]$. Each such Laurent polynomial defines a holomorphic (algebraic) map $f:(\bC^\times)^n \to \bC$ whose zero locus $V(f) \subseteq (\bC^*)^n$ $f \neq 0$ is a \textbf{complex hypersurface.} The ring $\bC[z_1^{\pm},...,z_n^{\pm}]$ is a unique factorization domain which implies $f = f_1^{\alpha_1}\cdot...\cdot f_m^{\alpha_m}$ where the $f_i$ are ireducible, pairwise different, and hence $Z(f) = Z(f_1) \cup ... \cup Z(f_m)$. This locus is \emph{always} a complex submanifold, even in the case of the nodal cubic for instance, of $\dim_\bC = n - 1$ outside of a real codimension 2 subset $Z(f) \cap Z(\partial_1 f) \cap ... \cap Z(\partial_n f)$.

\begin{example}\label{example:complex-hypersurface}
  $ $
  \begin{enumerate}[(a)]
    \item $V(z+w) \subseteq (\bC^\times)^2$ is isomorphic as a $\bC$-manifold or as an algebraic variety to $\bC^\times$. The map $\bC^\times \mapsto V(z+w)$  given $u\mapsto (u,-u)$ parameterizes this curve.
    \item $V(z+w+1) \subseteq (\bC^\times)^2$ is isomorphic to $\bC^\times\setminus\{0,1\}$  via the map $u \mapsto (u,1-u)$.
  \end{enumerate}
\end{example}

\subsection{The Log Map} Forget phases and use logarithmic coordinates. 
\begin{align*}
  \operatorname{Log}: (\bC^\times)^n \xrightarrow{1.1} \bR_{> 0}^n \xrightarrow{\log} \bR^n
\end{align*}
given by
\begin{align*}
  (z_1,...,z_n) \mapsto (|z_1|,...,|z_n|) \mapsto (\log|z_1|,...,\log |z_n|).
\end{align*}
\begin{defn}\label{defn:hypersurface-amoeba}
  The \textbf{Hypersurface amoeba} of $f\in \bC[z_1^{\pm},...,z_n^{\pm}]\setminus\{0\}$ is 
  \begin{align*}
    \cA_f = \Log(V(f)) \subseteq \bR^n
  \end{align*}
  (Gelfand, Vapranov, Zelevabsky)
\end{defn}
\begin{example}\label{example}
  $ $
\begin{enumerate}[(a)]
  \item $f = z + w$
  \item $f = z + w + 1$
  \item $f = 1 + 5zw + w^2 - z^2 + 3z^2w - z^2w^2$
\end{enumerate}
(add pictures later) careful to draw these such that the complements of the amoeba are all convex.
\end{example}

\bigskip

\underline{Observations:}
\begin{itemize}
  \item connected cusps of $\bR^n \setminus \bC_f$ are convex in $\dim = 2$. $\cA_f$ looks like a thickened graph. We'll sketch a proof of a more general result.
\end{itemize}

\bigskip

\underline{Recall:} $\cU \subseteq \bC$, $f:\cU \setminus \{p_1,...,p_r\}\to \bC$ are meromorphic with mkr poles $(p_1,...,p_r)$ and $s$ zeros with multiplicity. This implies
\begin{align*}
  s - r = \frac{1}{2\pi i} \int_C \frac{f'(z)}{f(z)}dz.
\end{align*}
This is the argument principle from complex analysis. Appears in the derivative of $\frac{1}{2\pi i} \int_{S^1} \log |f| dz$. This appears in the Jensen formula: $\cU \subseteq \bC$ an open subset and assume it contains a closed disk of radius $r$ $\{z \mid |z| \leq r\} = D$. Important that it includes the boundary. Then if we have a holomorphic function $f:\cU \to \bC$ with zeros of $f$ in $D$ $a_1,...,a_k$ such that $0 < |a_1| \leq |a_2| \leq ... \leq |a_k|$ (with multiplicity) then we have
\begin{align*}
  \frac{1}{2\pi i} \int_0^{2\pi} \log | f(re^{i\theta})| d\theta = \log |f(0)| + \sum_{j=1}^k \log \frac{r}{|a_j|}.
\end{align*}
This is the Jensen formula. 

\begin{proof}(Rudin, ``Real and complex analysis'')
  \begin{enumerate}[(1)]
    \item Assume f has no zeros and hence that $\log |f|$ harmonic. Using the mean value property for harmonic functions (go review Analysis) yields the Jensen Formula.
    \item For the general case, suppose we have $|a_1|,...,|a_n| < r,$ and then that $|a_{m+1}|,...,|a_k| = r.$ Consider $g(z) = f(z) \cdot \prod_{j=1}^m \frac{r^2 - \ola_jz}{r(a_j - z)}\prod^k_{j=m+1}\frac{a_j}{a_j-z}$ with no zeros in $|z|\leq r$. This implies 
      \begin{align*}
        g(0) = f(0) \cdot \prod_{j=1}^m \frac{r}{a_j}
      \end{align*}
      by our first case.
    \item $|z| = r$, so on the boundary, we have
      \begin{align*}
      \big| \frac{r^2 - a_jz}{r(a_j - z)}\big| = \frac{1}{r} \big|\frac{r^2\olz - a_j|z|^2}{r(a_j - z)}\big| = \frac{r}{r} = 1
      \end{align*}
      \begin{align*}
      \implies \log|g(re^{i\theta})| = \log |f(re^{i\theta})| - \sum_{j=m+1}^k \log \overbrace{|1 - e^{i(\theta - \theta_j)}|}^{a_j = re^{i\theta_j}}
      \end{align*}
    \item Lemma: $\int^{2\pi}_0 \log(1 - e^{i\theta})d\theta = 0$. These four things together prove the Jensen formula.
  \end{enumerate}
\end{proof}

For $n> 1$we define something called the Ronkin function. We have $f \in \cO(\Log^{-1}(\Omega)), \Omega \subseteq \bR^n$ a (convex) open set. Then the \textbf{Ronkin Function} is defined
\begin{align*}
  N_f(x) = \big(\frac{1}{2\pi i}\big)^n \int_{\Log^{-1}(x)} \Log |f(z_1,...,z_n)|\frac{dz_1}{z_1}\vee ... \vee \frac{dz_n}{z_n}
\end{align*}

\begin{thm}\label{thm:ronkin-function-thm}
\begin{enumerate}[(a)]
  \item $N_f$ is a convex $\cC^0$-function
  \item $\cA_f = \Log(V(f)) \subseteq \Omega$ an Amoeba. For all $\cU \subseteq \Omega$ open, connected $\cU \cap \cA_f = \emptyset \iff N_f|_{\cU}$ affine linear.
  \item $x \in \Omega \setminus \cA_f \implies \grad N_f(x) = (v_1,...,v_n),$ 
    \begin{align*}
      v_j = \frac{1}{(2\pi i)^n} \int_{\Log^{-1}(x)} \frac{z_j\partial_jf}{f}\frac{dz_1}{z_1}\vee...\vee \frac{dz_n}{z_n}.
    \end{align*}
\end{enumerate}
\end{thm}
Picture: $N_f(x) = \langle \alpha_1,x \rangle + c_1$
\begin{proof}
  (sketch)
  \begin{enumerate}[(a)]
    \item $\log|f|$ is plurisubharmonic (i.e. is subharmonic (i.e. somehow less than harmonic functions on a circle) on each each holomorphic image of a disk). We have the following fact: if $h:\cU \to \bR$ is subharmonic, $\cU \subseteq \bC$ a domain containing $\{|z| \leq R\}$, then $\varphi(r) = \int_{|z| = r = \exp (s)} h(x) dz$ is a convex function in $\log r = s$. Found this proof in a book of Runkin called ``Introduction to the theory of entire functions,'' page 84.
    \item Prove this next time
    \item $x \in \Omega \setminus \cA_f$. Note:
      \begin{align*}
        \frac{\partial}{\partial x_j}\log |f| = \frac{1}{2} \frac{\partial}{\partial x_j} \log(f\olf) = \Re\left(z_j \frac{\partial}{\partial z_j} \log f\olf\right) = \Re\left(\frac{z_j\partial_j f}{f}\right).
      \end{align*}
      $x \in \Omega \setminus \cA_f$ implies that
      \begin{align*}
        \frac{\partial}{\partial x_j} N_f(x) = \Re\left(\frac{1}{2\pi i}^n \int_{\Log^{-1}} \frac{z_j\partial_j f}{f}\frac{dz_1}{z_1}\wedge ... \wedge \frac{dz_n}{z_n}\right).
      \end{align*}
      Note: for all $j$, we have
      \begin{align*}
        \gamma_j = \frac{1}{(2\pi i)^n} \int_{\Log^{-1}(x)} \frac{z_j\partial_j f}{f} \frac{dz_1}{z_1}\wedge ...\wedge \frac{dz_n}{z_n}.
      \end{align*}
      This is a locally constant $n$-form on $\cU\setminus A_f$ and is not defined on $\cA_f$ since $f$ is zero on $\cA_f$. In fact, $\gamma_j \in \bZ: \frac{1}{2\pi i} \int_{|z_j| = e^{x_j}} \frac{\partial_j f(z)}{f(z)} dz_j \in \bZ$ by the argument principle.
  \end{enumerate}

  Look at Passare, Rullgard ``Amoebas, Monge -- Ampere, measures and triangulations DMJ 2004''
\end{proof}

\entry{2022-Aug-25}

Recall that last time we had $V(f) \subseteq (\bC^\times)^n \xrightarrow{\Log} \bR^n$, and we took $f \in \bC[z_1^{\pm},...,z_n^{\pm}]$. This map has image in $\cA_f\subseteq \bR^n$. Recall also that the complement of the amoeba decomposes as the following union of connected components.
\begin{align*}
  \bR^n \setminus \cA_f = \Omega_1 \cup ... \cup \Omega_k.
\end{align*}
These connected components correspond to integral points of the Newton polyhedron $\conv\{I ~\mid~ a_I \neq 0\}$ where $f = \sum_{\text{finite}} a_I z^I$.
Ronkin function is
\begin{align*}
  N_f(x) = \frac{1}{(2\pi i)^n} \int_{\Log^{-1}(x)} \Log|f(x)| \frac{dz_1}{z_1} \wedge ... \wedge \frac{dz_n}{z_n}
\end{align*}
is convex on $\bR^n$ and is \textbf{affine linear on each $\Omega_i$} which then implies that each $\Omega_i$ is convex.

\underline{Note:} $\cU = \Log^{-1}(\Omega)$, where $\Omega$ is open, connected is a \textbf{circular domain}, i.e. change the argument of an element in the set and you're still in the set. These are called \textbf{Reinhardt domains}.

It is a fact that $\cU$ is a domain of holomorphy if and only if $\Omega$ is convex. Laurent series converge on $\Log^{-1}(\Omega)$ since $\Omega$ is convex.

\begin{cor}\label{cor:domains-of-conv-for-f}
  $\Log^{-1}(\Omega_i)$ are the domains of convergence of the Laurent series expansions of $f$.
\end{cor}

\subsection{The spine of a hypersurface amoeba}
Let $\varphi_i = N_f|_{\Log^{-1}(\Omega_i)} = \langle \alpha_i, \cdot \rangle + c_i$ with $\alpha_i \in (\bR^n)^*$ and $c_i \in \bR$ be the piecewise affine approximation of $N_f$. Define 
\begin{align*}
  \varphi = \max\{\varphi_i\}.
\end{align*}
Note that whenever $N_f$ is convex we get that $\varphi \leq N_f$. \textbf{CHECK THIS, SWAPPED FROM MIN TO MAX, CHECK THIS INEQUALITY REMAINS SAME}
\begin{defn}\label{defn:spine-of-amoeba}
  \begin{align*}
    \varphi_f &:= \{x \in \bR^n ~\mid ~ \varphi \text{ not affine linear near } x\} \\
              &= \{x \in \bR^n ~\mid~ \varphi \text{ not differentiable at } x\} \\
              &= \{x \in \bR^n ~\mid~ \exists i \neq j \text{ s.t. } \varphi_i(x) = \varphi_j(x = \max_k\{\varphi_k(x)\})\}
  \end{align*}
  is called the \textbf{spine} of $\cA_f$.
\end{defn}

\begin{thm}\label{thm:basic-spine-facts}[(Passare, Rullgard)]
  \begin{enumerate}[(a)]
    \item $\varphi_f$ is the $(n-1)$-skeleton of a face-fitting decomposition of $\bR^n$ into convex (with integrally defined facets) polyhedra.
    \item $\cA_f$ deformation retracts onto $\varphi_f$.
  \end{enumerate}
\end{thm}
This notation is slightly confusing to me -- $\varphi_f$ is a subset of the graph of $\varphi_f$, it is not itself a function.

\subsection{Tropical Limits and Maslov ``dequantization''}
$(\bR_{>0}, +, \cdot)\xrightarrow{h\cdot \log = \log_t} (\bR,\oplus_h, \odot_h)$ is a semiring isomorphism. The inverse is $(\bR_{>0},+,\cdot)\xleftarrow{\exp(x/h)\leftarrow x} (\bR,\oplus_h,\odot)$ with
\begin{align*}
  x \oplus_h y &= h\cdot \log\left(\exp\left(\frac{x}{h}\right) + \exp\left(\frac{y}{h}\right)\right) ~ \xrightarrow{h \to 0} \max\{x,y\} \\
  x \odot y &= h\cdot \log\left(\exp\left(\frac{x}{h}\right)\cdot \exp\left(\frac{y}{h}\right)\right) = x + y.
\end{align*}
Now consider $f_h \in \bC(h)[z_1^{\pm}, ..., z_n^{\pm}]$ e.g. $\frac{h^2 + 1}{h}z_1^2 + (h^3 - h^2)z_1z_2^{-1}$. For all $h$ we have that 
\begin{align*}
  \cA_n(f_n) = \Log_t\left(V(f_h)\right) = h\cdot \cA(f_h) \subseteq \bR^n
\end{align*}
are the amoeba for the rescaled Log-map $\Log_t = h\Log$.
Here's a theorem from a paper prior to tropical geometry truly kicking off.
\begin{thm}\label{thm}
  $\cA_h(f_h)$ converges for $h \to 0$ in the Hausdorff distance to the tropical hypersurface $V(\trop(f_h))$.
\end{thm}
\begin{align*}
  f_h = \alpha_1z^{\underline{u}_1} + ... + a_r z^{\underline{u}_r}, ~ a_i \in \alpha_i \in \bC(h)
\end{align*}
then
\begin{align*}
  \trop f_h = \max \{\langle \underline{u}_1, - \rangle + c_1, ..., \langle \underline{u}_r, - \rangle + c_r\}
\end{align*}
where $c_i = \val_0(\alpha_i)$, order of $\alpha_i(h)$ at $h = 0$.
\begin{align*}
  \val_0(\frac{h^2 + 1}{h}) = -1, \val_0(h^3 - h^2)) = 2.
\end{align*}
\textbf{INCLUDE BOARD WITH HAUSDORFF DISTANCE}

\section{Tropical Arithmetic}

\subsection{Tropical semiring}
\begin{defn}\label{defn:tropical-semiring}
  $(\bR\cup \{\infty\}, \oplus, \odot)$ is the tropical semiring or the min-plus algebra. We set
  \begin{itemize}
    \item $x \oplus y := \min\{x,y\}$
    \item $x\odot y := x + y$.
  \end{itemize}
  Both operations are commutative, associative, and are together distributive.
\end{defn}
We have the following identities:
\begin{itemize}
  \item $x \odot (y\oplus z) = x\odot y \oplus x\odot z$
  \item $x \oplus \infty = x$
  \item $x \oplus 0 = \begin{cases}0 & x \geq 0 \\ x & x< 0\end{cases}$
  \item $x \odot 0 = x$
  \item $x \odot \infty := \infty$
\end{itemize}

Explanation:
\begin{align*}
  (x\oplus y)^3 &= (x \oplus y) \odot (x \oplus y) \odot (x \oplus y) \\
                &= 3 \min\{x,y\} \\
                &= \min\{3x,3y\} = x^3 \oplus y^3 \\
                &= \min\{3x,2x+y,x+2y,3y\} = x^3 \oplus x^2y \oplus xy^2 \oplus y^3
\end{align*}
Noting that $x^3 = 0\odot x^3$, $x^2y = 0\odot x^2y$, etc. we see that these are the coefficients of Pascal's triangle in tropical land, and that the coefficients are all 0. Hence the tropical Pascal triangle is just a bunch of 0's.

\subsection{Linear algebra} The usual operations (formally) make sense over $(\bR\cup \{\infty\}, \oplus,\odot)$, e.g.
\begin{align*}
  (u_1,u_2,u_3)\cdot (v_1,v_2,v_3)^T &= u_1\odot v_1 \oplus u_2\odot v_2 \oplus u_3\odot v_3 \\
                                     &= \min\{u_1+v_1,u_2+v_2,u_3+v_3\}.
\end{align*}
\begin{align*}
  (u_1,u_2,u_3)^T\odot (v_1,v_2,v_3) = 
  \begin{pmatrix}
    u_1\odot v_1 & u_1 \odot v_2 & \hdots \\
    u_2\odot v_2 & \hdots & \\
                 & & u_3\ddots v_3
  \end{pmatrix}
\end{align*}
\begin{defn}\label{defn:tropical-rank}
  Matrices that can be written as $u^t \odot v$ have \textbf{tropical rank} 1.
\end{defn}
\begin{defn}\label{defn:barvihok-rank}
  The Barvihok rank of $A \in M(m\times n, \bR)$ is $\min\{k \mid \exists u_1,...,u_k, v_1,...,v_k, A = u_1^T\odot v_1\oplus...\oplus u_k^T\odot v_k\}$.
\end{defn}
There are other notions of rank: Kapronov rank, tropical rank [MLS, S.5.3].

Looking at \textbf{tropical linear systems} $A\odot x = b$ has applications in engineering, dynamic programming (optimization via recursive structures, e.g. Find a shortest (weighted) path through a directed graph) etc. More on this in section 3.

\subsection{Tropical Polynomials}
\begin{defn}\label{defn:tropical-polynomials}
  A \textbf{Tropical polynomial} is a Laurent polynomial over $x_1,...,x_n$, i.e. is a function on $\bR,\oplus,\odot)^n$. A monomial is 
  \begin{align*}
    x_1^{u_1}\odot x_2^{u_2} \cdot ... \cdot x_n^{u_n}
  \end{align*}
\end{defn}
\printbibliography
\end{document}
